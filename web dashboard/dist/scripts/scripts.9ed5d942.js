"use strict";angular.module("rscwbApp",["ngCookies","ngResource","ngRoute","ngSanitize"]).run(["$rootScope","api","$location",function(a,b,c){Parse.initialize("fidami"),Parse.serverURL="http://163.172.172.165:1337/parse",a.changeView=function(a){c.path(a)},a.currentUser=void 0,a.loadTexts=function(c){b.getLocalize(c).then(function(b){b&&b.data||console.log("Loading texts failed."),a.lang=b.data})},a.loadTexts("en"),a.checkUser=function(){Parse.User.current()?a.currentUser=Parse.User.current():a.changeView("login")},a.logOut=function(){Parse.User.logOut(),a.changeView("login")}}]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/institution/home",{templateUrl:"views/institution/home.html",controller:"InstitutionHomeCtrl"}).when("/institution/info",{templateUrl:"views/institution/info.html",controller:"InstitutionInfoCtrl"}).when("/superadmin/home",{templateUrl:"views/superadmin/home.html",controller:"SuperadminHomeCtrl"}).when("/superadmin/edit/:id",{templateUrl:"views/superadmin/edit.html",controller:"SuperadminEditCtrl"}).when("/superadmin/edit",{templateUrl:"views/superadmin/edit.html",controller:"SuperadminEditCtrl"}).when("/institution/push-notification",{templateUrl:"views/institution/push-notification.html",controller:"InstitutionPushNotificationCtrl"}).when("/institution/browse-donors",{templateUrl:"views/institution/browse-donors.html",controller:"InstitutionBrowseDonorsCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("rscwbApp").controller("MainCtrl",["$scope",function(a){a.checkUser(),a.userData={},a.onAddUserClick=function(){var b=new Parse.User;b.signUp({username:a.userData.username,password:a.userData.password,type:a.userData.type},{success:function(a){console.log("user registered",a)},error:function(a,b){console.log("error",b)}})};var b;a.onAddInstitutionDataClick=function(){if(b=a.currentUser.id,"admin"===a.currentUser.get("type")){var c=Parse.Object.extend("InstitutionData"),d=new c;d.save({userObjectId:b,name:a.userData.name,city:a.userData.city,isActive:!0},{success:function(a){console.log("institution data added",a)},error:function(a,b){console.log("error",b)}})}else if("donor"===a.currentUser.get("type")){b=a.currentUser.id;var e=Parse.Object.extend("UserData"),f=new e;f.save({userObjectId:b,name:a.userData.name,surname:a.userData.surname,bloodType:a.userData.bloodType},{success:function(a){console.log("user data added",a)},error:function(a,b){console.log("error",b)}})}else"superadmin"===a.currentUser.get("type")},a.onAddInstitutionBloodClick=function(){if("admin"!==a.currentUser.get("type")&&"superadmin"!==a.currentUser.get("type"))return void window.alert("Ovaj user nije institucija. Neka institucije rade svoj posao!");b=a.currentUser.id;var c=Parse.Object.extend("InstitutionBlood"),d=new c;d.save({userObjectId:b,bloodType:a.userData.bloodType,value:a.userData.value},{success:function(a){console.log("user data added",a)},error:function(a,b){console.log("error",b)}})},a.onAddDonation=function(){if("admin"!==a.currentUser.get("type")&&"superadmin"!==a.currentUser.get("type"))return void window.alert("Ovaj user nije institucija. Neka institucije rade svoj posao!");b=a.currentUser.id;var c=Parse.Object.extend("UserDonation"),d=new c,e=Parse.Object.extend("UserData"),f=new Parse.Query(e),g="",h=Parse.Object.extend("InstitutionBlood"),i=new Parse.Query(h);f.equalTo("userObjectId",a.userData.userId),f.find({success:function(c){g=c[0].get("bloodType"),i.equalTo("userObjectId",b),i.equalTo("bloodType",g),i.find({success:function(c){c[0].save({value:parseInt(c[0].get("value"))+1+""},{success:function(c){console.log("blood added"),d.save({userObjectId:a.userData.userId,institutionObjectId:b,dateOfDonation:a.userData.date},{success:function(a){console.log("donation added")},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},a.makePush=function(){var a=require("onesignal-plus").$instance;a.setup({api_key:"Zjg3YWM5ZTctYWRmZC00YjgzLTkxYWItZTliZWM0M2U5NTA5"}),a.post("notifications",{app_id:"fe297931-fa76-4688-968d-cd6443131ef1",contents:{en:"Hi!"}},function(a,b){console.log(a,b)})}}]),angular.module("rscwbApp").controller("LoginCtrl",["$rootScope","$scope","$cookieStore",function(a,b,c){b.checkUser(),b.languages=[{name:"English",value:"en"},{name:"Hrvatski",value:"hr"},{name:"Bosanski",value:"bih"},{name:"German",value:"ger"}],b.language=b.languages[0],b.loginClicked=!1,b.registerClicked=!1,b.loginUser={},b.error={hasError:!1,msg:"",show:function(a){this.hasError=!0,this.msg=a}};var d=new Parse.User;b.onLoginClick=function(){Parse.User.logIn(b.loginUser.username,b.loginUser.password,{success:function(d){console.log("user logged in",d),a.currentUser=Parse.User.current(),c.put("currentUser",angular.toJson(Parse.User.current())),"superadmin"===a.currentUser.get("type")?b.changeView("superadmin/home"):"admin"===a.currentUser.get("type")?b.changeView("institution/home"):(Parse.User.logOut(),b.error.show(b.lang.youAreDonor),b.$apply()),b.$apply()},error:function(a,c){console.log("error",c),b.error.show(c.message),b.$apply()}})},b.onRegisterClick=function(){d.signUp({username:b.loginUser.username,password:b.loginUser.password,type:"superadmin"},{success:function(a){console.log("user registered",a)},error:function(a,b){console.log("error",b)}})},b.onForgotPassword=function(){Parse.User.requestPasswordReset(b.loginUser.email,{success:function(){b.mailSent=!0,b.$apply()},error:function(a){b.error.show(a.message),b.$apply()}})},b.languageChanged=function(){b.loadTexts(b.language.value)}}]),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Parse=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){if(a=a||"",a=a.replace(/^\s*/,""),a=a.replace(/\s*$/,""),0===a.length)throw new TypeError("A name for the custom event must be provided");for(var d in b)if("string"!=typeof d||"string"!=typeof b[d])throw new TypeError('track() dimensions expects keys and values of type "string".');return c=c||{},g.default.getAnalyticsController().track(a,b)._thenRunCallbacks(c)}Object.defineProperty(c,"__esModule",{value:!0}),c.track=e;var f=a("./CoreManager"),g=d(f),h={track:function(a,b){var c=g.default.getRESTController();return c.request("POST","events/"+a,{dimensions:b})}};g.default.setAnalyticsController(h)},{"./CoreManager":3}],2:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){if(c=c||{},"string"!=typeof a||0===a.length)throw new TypeError("Cloud function name must be a string.");var d={};return c.useMasterKey&&(d.useMasterKey=c.useMasterKey),c.sessionToken&&(d.sessionToken=c.sessionToken),g.default.getCloudController().run(a,b,d)._thenRunCallbacks(c)}Object.defineProperty(c,"__esModule",{value:!0}),c.run=e;var f=a("./CoreManager"),g=d(f),h=a("./decode"),i=d(h),j=a("./encode"),k=d(j),l=a("./ParseError"),m=d(l),n=a("./ParsePromise"),o=d(n),p={run:function(a,b,c){var d=g.default.getRESTController(),e=(0,k.default)(b,!0),f={};c.hasOwnProperty("useMasterKey")&&(f.useMasterKey=c.useMasterKey),c.hasOwnProperty("sessionToken")&&(f.sessionToken=c.sessionToken);var h=d.request("POST","functions/"+a,e,f);return h.then(function(a){var b=(0,i.default)(a);return b&&b.hasOwnProperty("result")?o.default.as(b.result):o.default.error(new m.default(m.default.INVALID_JSON,"The server returned an invalid response."))})._thenRunCallbacks(c)}};g.default.setCloudController(p)},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./decode":35,"./encode":36}],3:[function(a,b,c){(function(a){function c(a,b,c){b.forEach(function(b){if("function"!=typeof c[b])throw new Error(a+" must implement "+b+"()")})}var d={IS_NODE:"undefined"!=typeof a&&!!a.versions&&!!a.versions.node&&!a.versions.electron,REQUEST_ATTEMPT_LIMIT:5,SERVER_URL:"https://api.parse.com/1",LIVEQUERY_SERVER_URL:null,VERSION:"js1.9.2",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1};b.exports={get:function(a){if(d.hasOwnProperty(a))return d[a];throw new Error("Configuration key not found: "+a)},set:function(a,b){d[a]=b},setAnalyticsController:function(a){c("AnalyticsController",["track"],a),d.AnalyticsController=a},getAnalyticsController:function(){return d.AnalyticsController},setCloudController:function(a){c("CloudController",["run"],a),d.CloudController=a},getCloudController:function(){return d.CloudController},setConfigController:function(a){c("ConfigController",["current","get"],a),d.ConfigController=a},getConfigController:function(){return d.ConfigController},setFileController:function(a){c("FileController",["saveFile","saveBase64"],a),d.FileController=a},getFileController:function(){return d.FileController},setInstallationController:function(a){c("InstallationController",["currentInstallationId"],a),d.InstallationController=a},getInstallationController:function(){return d.InstallationController},setObjectController:function(a){c("ObjectController",["save","fetch","destroy"],a),d.ObjectController=a},getObjectController:function(){return d.ObjectController},setObjectStateController:function(a){c("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],a),d.ObjectStateController=a},getObjectStateController:function(){return d.ObjectStateController},setPushController:function(a){c("PushController",["send"],a),d.PushController=a},getPushController:function(){return d.PushController},setQueryController:function(a){c("QueryController",["find"],a),d.QueryController=a},getQueryController:function(){return d.QueryController},setRESTController:function(a){c("RESTController",["request","ajax"],a),d.RESTController=a},getRESTController:function(){return d.RESTController},setSessionController:function(a){c("SessionController",["getSession"],a),d.SessionController=a},getSessionController:function(){return d.SessionController},setStorageController:function(a){a.async?c("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync"],a):c("A synchronous StorageController",["getItem","setItem","removeItem"],a),d.StorageController=a},getStorageController:function(){return d.StorageController},setUserController:function(a){c("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","requestPasswordReset","upgradeToRevocableSession","linkWith"],a),d.UserController=a},getUserController:function(){return d.UserController},setLiveQueryController:function(a){c("LiveQueryController",["subscribe","unsubscribe","open","close"],a),d.LiveQueryController=a},getLiveQueryController:function(){return d.LiveQueryController},setHooksController:function(a){c("HooksController",["create","get","update","remove"],a),d.HooksController=a},getHooksController:function(){return d.HooksController}}}).call(this,a("_process"))},{_process:168}],4:[function(a,b,c){b.exports=a("events").EventEmitter},{events:169}],5:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e,f,g=a("./parseDate"),h=d(g),i=a("./ParseUser"),j=d(i),k=!1,l={authenticate:function(a){var b=this;"undefined"==typeof FB&&a.error(this,"Facebook SDK not found."),FB.login(function(c){c.authResponse?a.success&&a.success(b,{id:c.authResponse.userID,access_token:c.authResponse.accessToken,expiration_date:new Date(1e3*c.authResponse.expiresIn+(new Date).getTime()).toJSON()}):a.error&&a.error(b,c)},{scope:e})},restoreAuthentication:function(a){if(a){var b=(0,h.default)(a.expiration_date),c=b?(b.getTime()-(new Date).getTime())/1e3:0,d={userID:a.id,accessToken:a.access_token,expiresIn:c},e={};if(f)for(var g in f)e[g]=f[g];e.authResponse=d,e.status=!1;var i=FB.getAuthResponse();i&&i.userID!==d.userID&&FB.logout(),FB.init(e)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}},m={init:function(a){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(f={},a)for(var b in a)f[b]=a[b];if(f.status&&"undefined"!=typeof console){var c=console.warn||console.log||function(){};c.call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.')}f.status=!1,FB.init(f),j.default._registerAuthenticationProvider(l),k=!0},isLinked:function(a){return a._isLinked("facebook")},logIn:function(a,b){if(a&&"string"!=typeof a){var c={};if(b)for(var d in b)c[d]=b[d];return c.authData=a,j.default._logInWith("facebook",c)}if(!k)throw new Error("You must initialize FacebookUtils before calling logIn.");return e=a,j.default._logInWith("facebook",b)},link:function(a,b,c){if(b&&"string"!=typeof b){var d={};if(c)for(var f in c)d[f]=c[f];return d.authData=b,a._linkWith("facebook",d)}if(!k)throw new Error("You must initialize FacebookUtils before calling link.");return e=b,a._linkWith("facebook",c)},unlink:function(a,b){if(!k)throw new Error("You must initialize FacebookUtils before calling unlink.");return a._unlinkFrom("facebook",b)}};c.default=m},{"./ParseUser":25,"./parseDate":40}],6:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function f(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var g=a("./CoreManager"),h=(d(g),a("./ParsePromise")),i=d(h),j=a("./Storage"),k=d(j),l=null,m={currentInstallationId:function(){if("string"==typeof l)return i.default.as(l);var a=k.default.generatePath("installationId");return k.default.getItemAsync(a).then(function(b){return b?(l=b,b):(b=f(),k.default.setItemAsync(a,b).then(function(){return l=b,b}))})},_clearCache:function(){l=null},_setInstallationIdCache:function(a){l=a}};b.exports=m},{"./CoreManager":3,"./ParsePromise":20,"./Storage":29}],7:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/typeof"),f=d(e),g=a("babel-runtime/core-js/get-iterator"),h=d(g),i=a("babel-runtime/core-js/json/stringify"),j=d(i),k=a("babel-runtime/core-js/map"),l=d(k),m=a("babel-runtime/core-js/object/get-prototype-of"),n=d(m),o=a("babel-runtime/helpers/classCallCheck"),p=d(o),q=a("babel-runtime/helpers/createClass"),r=d(q),s=a("babel-runtime/helpers/possibleConstructorReturn"),t=d(s),u=a("babel-runtime/helpers/inherits"),v=d(u),w=a("./EventEmitter"),x=d(w),y=a("./ParsePromise"),z=d(y),A=a("./ParseObject"),B=d(A),C=a("./LiveQuerySubscription"),D=d(C),E={INITIALIZED:"initialized",CONNECTING:"connecting",CONNECTED:"connected",CLOSED:"closed",RECONNECTING:"reconnecting",DISCONNECTED:"disconnected"},F={CONNECT:"connect",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",ERROR:"error"},G={CONNECTED:"connected",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed",ERROR:"error",CREATE:"create",UPDATE:"update",ENTER:"enter",LEAVE:"leave",DELETE:"delete"},H={CLOSE:"close",ERROR:"error",OPEN:"open"},I={OPEN:"open",CLOSE:"close",ERROR:"error",CREATE:"create",UPDATE:"update",ENTER:"enter",LEAVE:"leave",DELETE:"delete"},J=function(a){return Math.random()*Math.min(30,Math.pow(2,a)-1)*1e3},K=function(a){function b(a){var c=a.applicationId,d=a.serverURL,e=a.javascriptKey,f=a.masterKey,g=a.sessionToken;(0,p.default)(this,b);var h=(0,t.default)(this,(b.__proto__||(0,n.default)(b)).call(this));if(!d||0!==d.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");return h.reconnectHandle=null,h.attempts=1,h.id=0,h.requestId=1,h.serverURL=d,h.applicationId=c,h.javascriptKey=e,h.masterKey=f,h.sessionToken=g,h.connectPromise=new z.default,h.subscriptions=new l.default,h.state=E.INITIALIZED,h}return(0,v.default)(b,a),(0,r.default)(b,[{key:"shouldOpen",value:function(){return this.state===E.INITIALIZED||this.state===E.DISCONNECTED}},{key:"subscribe",value:function(a,b){var c=this;if(a){var d=a.toJSON().where,e=a.className,f={op:F.SUBSCRIBE,requestId:this.requestId,query:{className:e,where:d}};b&&(f.sessionToken=b);var g=new D.default(this.requestId,a,b);return this.subscriptions.set(this.requestId,g),this.requestId+=1,this.connectPromise.then(function(){c.socket.send((0,j.default)(f))}),g.on("error",function(){}),g}}},{key:"unsubscribe",value:function(a){var b=this;if(a){this.subscriptions.delete(a.id);var c={op:F.UNSUBSCRIBE,requestId:a.id};this.connectPromise.then(function(){b.socket.send((0,j.default)(c))})}}},{key:"open",value:function(){var a=this,b=this._getWebSocketImplementation();return b?(this.state!==E.RECONNECTING&&(this.state=E.CONNECTING),this.socket=new b(this.serverURL),this.socket.onopen=function(){a._handleWebSocketOpen()},this.socket.onmessage=function(b){a._handleWebSocketMessage(b)},this.socket.onclose=function(){a._handleWebSocketClose()},void(this.socket.onerror=function(b){a._handleWebSocketError(b)})):void this.emit(H.ERROR,"Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var a=this;this.subscriptions.forEach(function(b,c){var d=b.query,e=d.toJSON().where,f=d.className,g=b.sessionToken,h={op:F.SUBSCRIBE,requestId:c,query:{className:f,where:e}};g&&(h.sessionToken=g),a.connectPromise.then(function(){a.socket.send((0,j.default)(h))})})}},{key:"close",value:function(){if(this.state!==E.INITIALIZED&&this.state!==E.DISCONNECTED){this.state=E.DISCONNECTED,this.socket.close();var a=!0,b=!1,c=void 0;try{for(var d,e=(0,h.default)(this.subscriptions.values());!(a=(d=e.next()).done);a=!0){var f=d.value;f.emit(I.CLOSE)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._handleReset(),this.emit(H.CLOSE)}}},{key:"_getWebSocketImplementation",value:function(){return"function"==typeof WebSocket||"object"===("undefined"==typeof WebSocket?"undefined":(0,f.default)(WebSocket))?WebSocket:null}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=new z.default,this.subscriptions=new l.default}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var a={op:F.CONNECT,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.socket.send((0,j.default)(a))}},{key:"_handleWebSocketMessage",value:function(a){var b=a.data;"string"==typeof b&&(b=JSON.parse(b));var c=null;switch(b.requestId&&(c=this.subscriptions.get(b.requestId)),b.op){case G.CONNECTED:this.state===E.RECONNECTING&&this.resubscribe(),this.emit(H.OPEN),this.id=b.clientId,this.connectPromise.resolve(),this.state=E.CONNECTED;break;case G.SUBSCRIBED:c&&c.emit(I.OPEN);break;case G.ERROR:b.requestId?c&&c.emit(I.ERROR,b.error):this.emit(H.ERROR,b.error);break;case G.UNSUBSCRIBED:break;default:var d=b.object.className;delete b.object.__type,delete b.object.className;var e=new B.default(d);if(e._finishFetch(b.object),!c)break;c.emit(b.op,e)}}},{key:"_handleWebSocketClose",value:function(){if(this.state!==E.DISCONNECTED){this.state=E.CLOSED,this.emit(H.CLOSE);var a=!0,b=!1,c=void 0;try{for(var d,e=(0,h.default)(this.subscriptions.values());!(a=(d=e.next()).done);a=!0){var f=d.value;f.emit(I.CLOSE)}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(a){this.emit(H.ERROR,a);var b=!0,c=!1,d=void 0;try{for(var e,f=(0,h.default)(this.subscriptions.values());!(b=(e=f.next()).done);b=!0){var g=e.value;g.emit(I.ERROR)}}catch(a){c=!0,d=a}finally{try{!b&&f.return&&f.return()}finally{if(c)throw d}}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var a=this;if(this.state!==E.DISCONNECTED){this.state=E.RECONNECTING;var b=J(this.attempts);this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=setTimeout(function(){a.attempts++,a.connectPromise=new z.default,a.open()}.bind(this),b)}}}]),b}(x.default);c.default=K},{"./EventEmitter":4,"./LiveQuerySubscription":8,"./ParseObject":18,"./ParsePromise":20,"babel-runtime/core-js/get-iterator":43,"babel-runtime/core-js/json/stringify":44,"babel-runtime/core-js/map":45,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/typeof":61}],8:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o=a("./EventEmitter"),p=d(o),q=a("./CoreManager"),r=d(q),s=function(a){function b(a,c,d){(0,h.default)(this,b);var e=(0,l.default)(this,(b.__proto__||(0,f.default)(b)).call(this));return e.id=a,e.query=c,e.sessionToken=d,e}return(0,n.default)(b,a),(0,j.default)(b,[{key:"unsubscribe",value:function(){var a=this,b=this;r.default.getLiveQueryController().getDefaultLiveQueryClient().then(function(c){c.unsubscribe(b),b.emit("close"),a.resolve()})}}]),b}(p.default);c.default=s},{"./CoreManager":3,"./EventEmitter":4,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],9:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new B.default,existed:!1}}function f(a,b){for(var c in b)"undefined"!=typeof b[c]?a[c]=b[c]:delete a[c]}function g(a,b,c){var d=a.length-1;c?a[d][b]=c:delete a[d][b]}function h(a){a.push({})}function i(a){var b=a.shift();return a.length||(a[0]={}),b}function j(a){var b=i(a),c=a[0];for(var d in b)if(c[d]&&b[d]){var e=c[d].mergeWith(b[d]);e&&(c[d]=e)}else c[d]=b[d]}function k(a,b,c,d,e){for(var f=a[e],g=0;g<b.length;g++)b[g][e]&&(b[g][e]instanceof C.RelationOp?d&&(f=b[g][e].applyTo(f,{className:c,id:d},e)):f=b[g][e].applyTo(f));return f}function l(a,b,c,d){var e={},f=void 0;for(f in a)e[f]=a[f];for(var g=0;g<b.length;g++)for(f in b[g])b[g][f]instanceof C.RelationOp?d&&(e[f]=b[g][f].applyTo(e[f],{className:c,id:d},f)):e[f]=b[g][f].applyTo(e[f]);return e}function m(a,b,c){for(var d in c){var e=c[d];if(a[d]=e,e&&"object"===("undefined"==typeof e?"undefined":(0,q.default)(e))&&!(e instanceof w.default)&&!(e instanceof u.default)&&!(e instanceof z.default)){var f=(0,s.default)(e,!1,!0);b[d]=(0,o.default)(f)}}}Object.defineProperty(c,"__esModule",{value:!0});var n=a("babel-runtime/core-js/json/stringify"),o=d(n),p=a("babel-runtime/helpers/typeof"),q=d(p);c.defaultState=e,c.setServerData=f,c.setPendingOp=g,c.pushPendingState=h,c.popPendingState=i,c.mergeFirstPendingState=j,c.estimateAttribute=k,c.estimateAttributes=l,c.commitServerChanges=m;var r=a("./encode"),s=d(r),t=a("./ParseFile"),u=d(t),v=a("./ParseObject"),w=d(v),x=a("./ParsePromise"),y=(d(x),a("./ParseRelation")),z=d(y),A=a("./TaskQueue"),B=d(A),C=a("./ParseOp")},{"./ParseFile":14,"./ParseObject":18,"./ParseOp":19,"./ParsePromise":20,"./ParseRelation":22,"./TaskQueue":31,"./encode":36,"babel-runtime/core-js/json/stringify":44,"babel-runtime/helpers/typeof":61}],10:[function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}var f=a("./decode"),g=e(f),h=a("./encode"),i=e(h),j=a("./CoreManager"),k=e(j),l=a("./InstallationController"),m=e(l),n=a("./ParseOp"),o=d(n),p=a("./RESTController"),q=e(p),r={initialize:function(a,b){k.default.get("IS_NODE")&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('parse/node') instead."),r._initialize(a,b)},_initialize:function(a,b,c){k.default.set("APPLICATION_ID",a),k.default.set("JAVASCRIPT_KEY",b),k.default.set("MASTER_KEY",c),k.default.set("USE_MASTER_KEY",!1)}};Object.defineProperty(r,"applicationId",{get:function(){return k.default.get("APPLICATION_ID")},set:function(a){k.default.set("APPLICATION_ID",a)}}),Object.defineProperty(r,"javaScriptKey",{get:function(){return k.default.get("JAVASCRIPT_KEY")},set:function(a){k.default.set("JAVASCRIPT_KEY",a)}}),Object.defineProperty(r,"masterKey",{get:function(){return k.default.get("MASTER_KEY")},set:function(a){k.default.set("MASTER_KEY",a)}}),Object.defineProperty(r,"serverURL",{get:function(){return k.default.get("SERVER_URL")},set:function(a){k.default.set("SERVER_URL",a)}}),Object.defineProperty(r,"liveQueryServerURL",{get:function(){return k.default.get("LIVEQUERY_SERVER_URL")},set:function(a){k.default.set("LIVEQUERY_SERVER_URL",a)}}),r.ACL=a("./ParseACL").default,r.Analytics=a("./Analytics"),r.Cloud=a("./Cloud"),r.CoreManager=a("./CoreManager"),r.Config=a("./ParseConfig").default,r.Error=a("./ParseError").default,r.FacebookUtils=a("./FacebookUtils").default,r.File=a("./ParseFile").default,r.GeoPoint=a("./ParseGeoPoint").default,r.Installation=a("./ParseInstallation").default,r.Object=a("./ParseObject").default,r.Op={Set:o.SetOp,Unset:o.UnsetOp,Increment:o.IncrementOp,Add:o.AddOp,Remove:o.RemoveOp,AddUnique:o.AddUniqueOp,Relation:o.RelationOp},r.Promise=a("./ParsePromise").default,r.Push=a("./Push"),r.Query=a("./ParseQuery").default,r.Relation=a("./ParseRelation").default,r.Role=a("./ParseRole").default,r.Session=a("./ParseSession").default,r.Storage=a("./Storage"),r.User=a("./ParseUser").default,r.LiveQuery=a("./ParseLiveQuery").default,r.LiveQueryClient=a("./LiveQueryClient").default,r._request=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return k.default.getRESTController().request.apply(null,b)},r._ajax=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return k.default.getRESTController().ajax.apply(null,b)},r._decode=function(a,b){return(0,g.default)(b)},r._encode=function(a,b,c){return(0,i.default)(a,c)},r._getInstallationId=function(){return k.default.getInstallationController().currentInstallationId()},k.default.setInstallationController(m.default),k.default.setRESTController(q.default),r.Parse=r,b.exports=r},{"./Analytics":1,"./Cloud":2,"./CoreManager":3,"./FacebookUtils":5,"./InstallationController":6,"./LiveQueryClient":7,"./ParseACL":11,"./ParseConfig":12,"./ParseError":13,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseInstallation":16,"./ParseLiveQuery":17,"./ParseObject":18,"./ParseOp":19,"./ParsePromise":20,"./ParseQuery":21,"./ParseRelation":22,"./ParseRole":23,"./ParseSession":24,"./ParseUser":25,"./Push":26,"./RESTController":27,"./Storage":29,"./decode":35,"./encode":36}],11:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/keys"),f=d(e),g=a("babel-runtime/helpers/typeof"),h=d(g),i=a("babel-runtime/helpers/classCallCheck"),j=d(i),k=a("babel-runtime/helpers/createClass"),l=d(k),m=a("./ParseRole"),n=d(m),o=a("./ParseUser"),p=d(o),q="*",r=function(){function a(b){if((0,j.default)(this,a),this.permissionsById={},b&&"object"===("undefined"==typeof b?"undefined":(0,h.default)(b)))if(b instanceof p.default)this.setReadAccess(b,!0),this.setWriteAccess(b,!0);else for(var c in b){var d=b[c];if("string"!=typeof c)throw new TypeError("Tried to create an ACL with an invalid user id.");this.permissionsById[c]={};for(var e in d){var f=d[e];if("read"!==e&&"write"!==e)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof f)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[c][e]=f}}else if("function"==typeof b)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return(0,l.default)(a,[{key:"toJSON",value:function(){var a={};for(var b in this.permissionsById)a[b]=this.permissionsById[b];return a}},{key:"equals",value:function(b){if(!(b instanceof a))return!1;var c=(0,f.default)(this.permissionsById),d=(0,f.default)(b.permissionsById);if(c.length!==d.length)return!1;for(var e in this.permissionsById){if(!b.permissionsById[e])return!1;if(this.permissionsById[e].read!==b.permissionsById[e].read)return!1;if(this.permissionsById[e].write!==b.permissionsById[e].write)return!1}return!0}},{key:"_setAccess",value:function(a,b,c){if(b instanceof p.default)b=b.id;else if(b instanceof n.default){var d=b.getName();if(!d)throw new TypeError("Role must have a name");b="role:"+d}if("string"!=typeof b)throw new TypeError("userId must be a string.");if("boolean"!=typeof c)throw new TypeError("allowed must be either true or false.");var e=this.permissionsById[b];if(!e){if(!c)return;e={},this.permissionsById[b]=e}c?this.permissionsById[b][a]=!0:(delete e[a],0===(0,f.default)(e).length&&delete this.permissionsById[b])}},{key:"_getAccess",value:function(a,b){if(b instanceof p.default){if(b=b.id,!b)throw new Error("Cannot get access for a ParseUser without an ID")}else if(b instanceof n.default){var c=b.getName();if(!c)throw new TypeError("Role must have a name");b="role:"+c}var d=this.permissionsById[b];return!!d&&!!d[a]}},{key:"setReadAccess",value:function(a,b){this._setAccess("read",a,b)}},{key:"getReadAccess",value:function(a){return this._getAccess("read",a)}},{key:"setWriteAccess",value:function(a,b){this._setAccess("write",a,b)}},{key:"getWriteAccess",value:function(a){return this._getAccess("write",a)}},{key:"setPublicReadAccess",value:function(a){this.setReadAccess(q,a)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(q)}},{key:"setPublicWriteAccess",value:function(a){this.setWriteAccess(q,a)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(q)}},{key:"getRoleReadAccess",value:function(a){if(a instanceof n.default&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+a)}},{key:"getRoleWriteAccess",value:function(a){if(a instanceof n.default&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+a)}},{key:"setRoleReadAccess",value:function(a,b){if(a instanceof n.default&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+a,b)}},{key:"setRoleWriteAccess",value:function(a,b){if(a instanceof n.default&&(a=a.getName()),"string"!=typeof a)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+a,b)}}]),a}();c.default=r},{"./ParseRole":23,"./ParseUser":25,"babel-runtime/core-js/object/keys":51,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,
"babel-runtime/helpers/typeof":61}],12:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){try{var b=JSON.parse(a);if(b&&"object"===("undefined"==typeof b?"undefined":(0,i.default)(b)))return(0,q.default)(b)}catch(a){return null}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/json/stringify"),g=d(f),h=a("babel-runtime/helpers/typeof"),i=d(h),j=a("babel-runtime/helpers/classCallCheck"),k=d(j),l=a("babel-runtime/helpers/createClass"),m=d(l),n=a("./CoreManager"),o=d(n),p=a("./decode"),q=d(p),r=a("./encode"),s=(d(r),a("./escape")),t=d(s),u=a("./ParseError"),v=d(u),w=a("./ParsePromise"),x=d(w),y=a("./Storage"),z=d(y),A=function(){function a(){(0,k.default)(this,a),this.attributes={},this._escapedAttributes={}}return(0,m.default)(a,[{key:"get",value:function(a){return this.attributes[a]}},{key:"escape",value:function(a){var b=this._escapedAttributes[a];if(b)return b;var c=this.attributes[a],d="";return null!=c&&(d=(0,t.default)(c.toString())),this._escapedAttributes[a]=d,d}}],[{key:"current",value:function(){var a=o.default.getConfigController();return a.current()}},{key:"get",value:function(a){a=a||{};var b=o.default.getConfigController();return b.get()._thenRunCallbacks(a)}}]),a}();c.default=A;var B=null,C="currentConfig",D={current:function(){if(B)return B;var a,b=new A,c=z.default.generatePath(C);if(!z.default.async()){if(a=z.default.getItem(c)){var d=e(a);d&&(b.attributes=d,B=b)}return b}return z.default.getItemAsync(c).then(function(a){if(a){var c=e(a);c&&(b.attributes=c,B=b)}return b})},get:function(){var a=o.default.getRESTController();return a.request("GET","config",{},{}).then(function(a){if(!a||!a.params){var b=new v.default(v.default.INVALID_JSON,"Config JSON response invalid.");return x.default.error(b)}var c=new A;c.attributes={};for(var d in a.params)c.attributes[d]=(0,q.default)(a.params[d]);return B=c,z.default.setItemAsync(z.default.generatePath(C),(0,g.default)(a.params)).then(function(){return c})})}};o.default.setConfigController(D)},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./Storage":29,"./decode":35,"./encode":36,"./escape":38,"babel-runtime/core-js/json/stringify":44,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/typeof":61}],13:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/classCallCheck"),f=d(e),g=function a(b,c){(0,f.default)(this,a),this.code=b,this.message=c};c.default=g,g.OTHER_CAUSE=-1,g.INTERNAL_SERVER_ERROR=1,g.CONNECTION_FAILED=100,g.OBJECT_NOT_FOUND=101,g.INVALID_QUERY=102,g.INVALID_CLASS_NAME=103,g.MISSING_OBJECT_ID=104,g.INVALID_KEY_NAME=105,g.INVALID_POINTER=106,g.INVALID_JSON=107,g.COMMAND_UNAVAILABLE=108,g.NOT_INITIALIZED=109,g.INCORRECT_TYPE=111,g.INVALID_CHANNEL_NAME=112,g.PUSH_MISCONFIGURED=115,g.OBJECT_TOO_LARGE=116,g.OPERATION_FORBIDDEN=119,g.CACHE_MISS=120,g.INVALID_NESTED_KEY=121,g.INVALID_FILE_NAME=122,g.INVALID_ACL=123,g.TIMEOUT=124,g.INVALID_EMAIL_ADDRESS=125,g.MISSING_CONTENT_TYPE=126,g.MISSING_CONTENT_LENGTH=127,g.INVALID_CONTENT_LENGTH=128,g.FILE_TOO_LARGE=129,g.FILE_SAVE_ERROR=130,g.DUPLICATE_VALUE=137,g.INVALID_ROLE_NAME=139,g.EXCEEDED_QUOTA=140,g.SCRIPT_FAILED=141,g.VALIDATION_ERROR=142,g.INVALID_IMAGE_DATA=143,g.UNSAVED_FILE_ERROR=151,g.INVALID_PUSH_TIME_ERROR=152,g.FILE_DELETE_ERROR=153,g.REQUEST_LIMIT_EXCEEDED=155,g.INVALID_EVENT_NAME=160,g.USERNAME_MISSING=200,g.PASSWORD_MISSING=201,g.USERNAME_TAKEN=202,g.EMAIL_TAKEN=203,g.EMAIL_MISSING=204,g.EMAIL_NOT_FOUND=205,g.SESSION_MISSING=206,g.MUST_CREATE_USER_THROUGH_SIGNUP=207,g.ACCOUNT_ALREADY_LINKED=208,g.INVALID_SESSION_TOKEN=209,g.LINKED_ID_MISSING=250,g.INVALID_LINKED_SESSION=251,g.UNSUPPORTED_SERVICE=252,g.AGGREGATE_ERROR=600,g.FILE_READ_ERROR=601,g.X_DOMAIN_REQUEST=602},{"babel-runtime/helpers/classCallCheck":56}],14:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a<26)return String.fromCharCode(65+a);if(a<52)return String.fromCharCode(97+(a-26));if(a<62)return String.fromCharCode(48+(a-52));if(62===a)return"+";if(63===a)return"/";throw new TypeError("Tried to encode large digit "+a+" in base64.")}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/helpers/classCallCheck"),g=d(f),h=a("babel-runtime/helpers/createClass"),i=d(h),j=a("./CoreManager"),k=d(j),l=a("./ParsePromise"),m=(d(l),/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,/),n=function(){function a(b,c,d){(0,g.default)(this,a);var e=d||"";if(this._name=b,void 0!==c)if(Array.isArray(c))this._source={format:"base64",base64:a.encodeBase64(c),type:e};else if("undefined"!=typeof File&&c instanceof File)this._source={format:"file",file:c,type:e};else{if(!c||"string"!=typeof c.base64)throw new TypeError("Cannot create a Parse.File with that data.");var f=c.base64,h=f.indexOf(",");if(h!==-1){var i=m.exec(f.slice(0,h+1));this._source={format:"base64",base64:f.slice(h+1),type:i[1]}}else this._source={format:"base64",base64:f,type:e}}}return(0,i.default)(a,[{key:"name",value:function(){return this._name}},{key:"url",value:function(a){if(a=a||{},this._url)return a.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}},{key:"save",value:function(a){var b=this;a=a||{};var c=k.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=c.saveFile(this._name,this._source).then(function(a){return b._name=a.name,b._url=a.url,b}):this._previousSave=c.saveBase64(this._name,this._source).then(function(a){return b._name=a.name,b._url=a.url,b})),this._previousSave)return this._previousSave._thenRunCallbacks(a)}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url}}},{key:"equals",value:function(b){return this===b||b instanceof a&&this.name()===b.name()&&this.url()===b.url()&&"undefined"!=typeof this.url()}}],[{key:"fromJSON",value:function(b){if("File"!==b.__type)throw new TypeError("JSON object does not represent a ParseFile");var c=new a(b.name);return c._url=b.url,c}},{key:"encodeBase64",value:function(a){var b=[];b.length=Math.ceil(a.length/3);for(var c=0;c<b.length;c++){var d=a[3*c],f=a[3*c+1]||0,g=a[3*c+2]||0,h=3*c+1<a.length,i=3*c+2<a.length;b[c]=[e(d>>2&63),e(d<<4&48|f>>4&15),h?e(f<<2&60|g>>6&3):"=",i?e(63&g):"="].join("")}return b.join("")}}]),a}();c.default=n;var o={saveFile:function(a,b){if("file"!==b.format)throw new Error("saveFile can only be used with File-type sources.");var c={"X-Parse-Application-ID":k.default.get("APPLICATION_ID"),"X-Parse-JavaScript-Key":k.default.get("JAVASCRIPT_KEY"),"Content-Type":b.type||(b.file?b.file.type:null)},d=k.default.get("SERVER_URL");return"/"!==d[d.length-1]&&(d+="/"),d+="files/"+a,k.default.getRESTController().ajax("POST",d,b.file,c)},saveBase64:function(a,b){if("base64"!==b.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var c={base64:b.base64};return b.type&&(c._ContentType=b.type),k.default.getRESTController().request("POST","files/"+a,c)}};k.default.setFileController(o)},{"./CoreManager":3,"./ParsePromise":20,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57}],15:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/typeof"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("./ParsePromise"),l=d(k),m=function(){function a(b,c){(0,h.default)(this,a),Array.isArray(b)?(a._validate(b[0],b[1]),this._latitude=b[0],this._longitude=b[1]):"object"===("undefined"==typeof b?"undefined":(0,f.default)(b))?(a._validate(b.latitude,b.longitude),this._latitude=b.latitude,this._longitude=b.longitude):"number"==typeof b&&"number"==typeof c?(a._validate(b,c),this._latitude=b,this._longitude=c):(this._latitude=0,this._longitude=0)}return(0,j.default)(a,[{key:"toJSON",value:function(){return a._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(b){return b instanceof a&&this.latitude===b.latitude&&this.longitude===b.longitude}},{key:"radiansTo",value:function(a){var b=Math.PI/180,c=this.latitude*b,d=this.longitude*b,e=a.latitude*b,f=a.longitude*b,g=Math.sin((c-e)/2),h=Math.sin((d-f)/2),i=g*g+Math.cos(c)*Math.cos(e)*h*h;return i=Math.min(1,i),2*Math.asin(Math.sqrt(i))}},{key:"kilometersTo",value:function(a){return 6371*this.radiansTo(a)}},{key:"milesTo",value:function(a){return 3958.8*this.radiansTo(a)}},{key:"latitude",get:function(){return this._latitude},set:function(b){a._validate(b,this.longitude),this._latitude=b}},{key:"longitude",get:function(){return this._longitude},set:function(b){a._validate(this.latitude,b),this._longitude=b}}],[{key:"_validate",value:function(a,b){if(a!==a||b!==b)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(a<-90)throw new TypeError("GeoPoint latitude out of bounds: "+a+" < -90.0.");if(a>90)throw new TypeError("GeoPoint latitude out of bounds: "+a+" > 90.0.");if(b<-180)throw new TypeError("GeoPoint longitude out of bounds: "+b+" < -180.0.");if(b>180)throw new TypeError("GeoPoint longitude out of bounds: "+b+" > 180.0.")}},{key:"current",value:function(b){var c=new l.default;return navigator.geolocation.getCurrentPosition(function(b){c.resolve(new a(b.coords.latitude,b.coords.longitude))},function(a){c.reject(a)}),c._thenRunCallbacks(b)}}]),a}();c.default=m},{"./ParsePromise":20,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/typeof":61}],16:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/typeof"),f=d(e),g=a("babel-runtime/core-js/object/get-prototype-of"),h=d(g),i=a("babel-runtime/helpers/classCallCheck"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/inherits"),n=d(m),o=a("./ParseObject"),p=d(o),q=function(a){function b(a){(0,j.default)(this,b);var c=(0,l.default)(this,(b.__proto__||(0,h.default)(b)).call(this,"_Installation"));if(a&&"object"===("undefined"==typeof a?"undefined":(0,f.default)(a))&&!c.set(a||{}))throw new Error("Can't create an invalid Session");return c}return(0,n.default)(b,a),b}(p.default);c.default=q,p.default.registerSubclass("_Installation",q)},{"./ParseObject":18,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/typeof":61}],17:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(){var a=n.default.getLiveQueryController();a.open()}function f(){var a=n.default.getLiveQueryController();a.close()}function g(){var a=n.default.getUserController();return a.currentUserAsync().then(function(a){return a?a.getSessionToken():void 0})}function h(){return n.default.getLiveQueryController().getDefaultLiveQueryClient()}Object.defineProperty(c,"__esModule",{value:!0});var i=a("./EventEmitter"),j=d(i),k=a("./LiveQueryClient"),l=d(k),m=a("./CoreManager"),n=d(m),o=a("./ParsePromise"),p=d(o),q=new j.default;q.open=e,q.close=f,q.on("error",function(){}),c.default=q;var r=void 0,s={setDefaultLiveQueryClient:function(a){r=a},getDefaultLiveQueryClient:function(){return r?p.default.as(r):g().then(function(a){var b=n.default.get("LIVEQUERY_SERVER_URL");if(b&&0!==b.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");if(!b){var c=n.default.get("SERVER_URL"),d="ws://";0===c.indexOf("https")&&(d="wss://");var e=c.replace(/^https?:\/\//,"");b=d+e,n.default.set("LIVEQUERY_SERVER_URL",b)}var f=n.default.get("APPLICATION_ID"),g=n.default.get("JAVASCRIPT_KEY"),h=n.default.get("MASTER_KEY");return r=new l.default({applicationId:f,serverURL:b,javascriptKey:g,masterKey:h,sessionToken:a}),r.on("error",function(a){q.emit("error",a)}),r.on("open",function(){q.emit("open")}),r.on("close",function(){q.emit("close")}),r})},open:function(){var a=this;h().then(function(b){a.resolve(b.open())})},close:function(){var a=this;h().then(function(b){a.resolve(b.close())})},subscribe:function(a){var b=this,c=new j.default;return h().then(function(d){d.shouldOpen()&&d.open();var e=g();return e.then(function(e){var f=d.subscribe(a,e);c.id=f.id,c.query=f.query,c.sessionToken=f.sessionToken,c.unsubscribe=f.unsubscribe,f.on("open",function(){c.emit("open")}),f.on("create",function(a){c.emit("create",a)}),f.on("update",function(a){c.emit("update",a)}),f.on("enter",function(a){c.emit("enter",a)}),f.on("leave",function(a){c.emit("leave",a)}),f.on("delete",function(a){c.emit("delete",a)}),b.resolve()})}),c},unsubscribe:function(a){var b=this;h().then(function(c){b.resolve(c.unsubscribe(a))})},_clearCachedDefaultClient:function(){r=null}};n.default.setLiveQueryController(s)},{"./CoreManager":3,"./EventEmitter":4,"./LiveQueryClient":7,"./ParsePromise":20}],18:[function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(){var a=x.default.get("SERVER_URL");"/"!==a[a.length-1]&&(a+="/");var b=a.replace(/https?:\/\//,"");return b.substr(b.indexOf("/"))}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/core-js/object/define-property"),h=e(g),i=a("babel-runtime/core-js/object/create"),j=e(i),k=a("babel-runtime/core-js/object/freeze"),l=e(k),m=a("babel-runtime/core-js/json/stringify"),n=e(m),o=a("babel-runtime/core-js/object/keys"),p=e(o),q=a("babel-runtime/helpers/typeof"),r=e(q),s=a("babel-runtime/helpers/classCallCheck"),t=e(s),u=a("babel-runtime/helpers/createClass"),v=e(u),w=a("./CoreManager"),x=e(w),y=a("./canBeSerialized"),z=e(y),A=a("./decode"),B=e(A),C=a("./encode"),D=e(C),E=a("./equals"),F=(e(E),a("./escape")),G=e(F),H=a("./ParseACL"),I=e(H),J=a("./parseDate"),K=e(J),L=a("./ParseError"),M=e(L),N=a("./ParseFile"),O=e(N),P=a("./ParseOp"),Q=a("./ParsePromise"),R=e(Q),S=a("./ParseQuery"),T=e(S),U=a("./ParseRelation"),V=e(U),W=a("./SingleInstanceStateController"),X=d(W),Y=a("./unique"),Z=e(Y),$=a("./UniqueInstanceStateController"),_=d($),aa=a("./unsavedChildren"),ba=e(aa),ca={},da=0,ea=0,fa=!x.default.get("IS_NODE");fa?x.default.setObjectStateController(X):x.default.setObjectStateController(_);var ga=function(){function a(b,c,d){(0,t.default)(this,a),"function"==typeof this.initialize&&this.initialize.apply(this,arguments);var e=null;if(this._objCount=ea++,"string"==typeof b)this.className=b,c&&"object"===("undefined"==typeof c?"undefined":(0,r.default)(c))&&(e=c);else if(b&&"object"===("undefined"==typeof b?"undefined":(0,r.default)(b))){this.className=b.className,e={};for(var f in b)"className"!==f&&(e[f]=b[f]);c&&"object"===("undefined"==typeof c?"undefined":(0,r.default)(c))&&(d=c)}if(e&&!this.set(e,d))throw new Error("Can't create an invalid Parse Object")}return(0,v.default)(a,[{key:"_getId",value:function(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;var a="local"+String(da++);return this._localId=a,a}},{key:"_getStateIdentifier",value:function(){if(fa){var a=this.id;return a||(a=this._getId()),{id:a,className:this.className}}return this}},{key:"_getServerData",value:function(){var a=x.default.getObjectStateController();return a.getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var a=this._getServerData(),b={};for(var c in a)b[c]=void 0;var d=x.default.getObjectStateController();d.setServerData(this._getStateIdentifier(),b)}},{key:"_getPendingOps",value:function(){var a=x.default.getObjectStateController();return a.getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(){var a=this._getPendingOps(),b=a[a.length-1],c=(0,p.default)(b);c.forEach(function(a){delete b[a]})}},{key:"_getDirtyObjectAttributes",value:function(){var b=this.attributes,c=x.default.getObjectStateController(),d=c.getObjectCache(this._getStateIdentifier()),e={};for(var f in b){var g=b[f];if(g&&"object"===("undefined"==typeof g?"undefined":(0,r.default)(g))&&!(g instanceof a)&&!(g instanceof O.default)&&!(g instanceof V.default))try{var h=(0,D.default)(g,!1,!0),i=(0,n.default)(h);d[f]!==i&&(e[f]=g)}catch(a){e[f]=g}}return e}},{key:"_toFullJSON",value:function(a){var b=this.toJSON(a);return b.__type="Object",b.className=this.className,b}},{key:"_getSaveJSON",value:function(){var a=this._getPendingOps(),b=this._getDirtyObjectAttributes(),c={};for(var d in b)c[d]=new P.SetOp(b[d]).toJSON();for(d in a[0])c[d]=a[0][d].toJSON();return c}},{key:"_getSaveParams",value:function(){var a=this.id?"PUT":"POST",b=this._getSaveJSON(),c="classes/"+this.className;return this.id?c+="/"+this.id:"_User"===this.className&&(c="users"),{method:a,body:b,path:c}}},{key:"_finishFetch",value:function(a){!this.id&&a.objectId&&(this.id=a.objectId);var b=x.default.getObjectStateController();b.initializeState(this._getStateIdentifier());var c={};for(var d in a)"ACL"===d?c[d]=new I.default(a[d]):"objectId"!==d&&(c[d]=(0,B.default)(a[d]),c[d]instanceof V.default&&c[d]._ensureParentAndKey(this,d));c.createdAt&&"string"==typeof c.createdAt&&(c.createdAt=(0,K.default)(c.createdAt)),c.updatedAt&&"string"==typeof c.updatedAt&&(c.updatedAt=(0,K.default)(c.updatedAt)),!c.updatedAt&&c.createdAt&&(c.updatedAt=c.createdAt),b.commitServerChanges(this._getStateIdentifier(),c)}},{key:"_setExisted",value:function(a){var b=x.default.getObjectStateController(),c=b.getState(this._getStateIdentifier());c&&(c.existed=a)}},{key:"_migrateId",value:function(a){if(this._localId&&a)if(fa){var b=x.default.getObjectStateController(),c=b.removeState(this._getStateIdentifier());this.id=a,delete this._localId,c&&b.initializeState(this._getStateIdentifier(),c)}else this.id=a,delete this._localId}},{key:"_handleSaveResponse",value:function(a,b){var c={},d=x.default.getObjectStateController(),e=d.popPendingState(this._getStateIdentifier());for(var f in e)e[f]instanceof P.RelationOp?c[f]=e[f].applyTo(void 0,this,f):f in a||(c[f]=e[f].applyTo(void 0));for(f in a)"createdAt"!==f&&"updatedAt"!==f||"string"!=typeof a[f]?"ACL"===f?c[f]=new I.default(a[f]):"objectId"!==f&&(c[f]=(0,B.default)(a[f]),c[f]instanceof P.UnsetOp&&(c[f]=void 0)):c[f]=(0,K.default)(a[f]);c.createdAt&&!c.updatedAt&&(c.updatedAt=c.createdAt),this._migrateId(a.objectId),201!==b&&this._setExisted(!0),d.commitServerChanges(this._getStateIdentifier(),c)}},{key:"_handleSaveError",value:function(){this._getPendingOps();var a=x.default.getObjectStateController();a.mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(a){var b=this.id?this.className+":"+this.id:this,a=a||[b],c={},d=this.attributes;for(var e in d)"createdAt"!==e&&"updatedAt"!==e||!d[e].toJSON?c[e]=(0,D.default)(d[e],!1,!1,a):c[e]=d[e].toJSON();var f=this._getPendingOps();for(var e in f[0])c[e]=f[0][e].toJSON();return this.id&&(c.objectId=this.id),c}},{key:"equals",value:function(b){return this===b||b instanceof a&&this.className===b.className&&this.id===b.id&&"undefined"!=typeof this.id}},{key:"dirty",value:function(a){if(!this.id)return!0;var b=this._getPendingOps(),c=this._getDirtyObjectAttributes();if(a){if(c.hasOwnProperty(a))return!0;for(var d=0;d<b.length;d++)if(b[d].hasOwnProperty(a))return!0;return!1}return 0!==(0,p.default)(b[0]).length||0!==(0,p.default)(c).length}},{key:"dirtyKeys",value:function(){for(var a=this._getPendingOps(),b={},c=0;c<a.length;c++)for(var d in a[c])b[d]=!0;var e=this._getDirtyObjectAttributes();for(var d in e)b[d]=!0;return(0,p.default)(b)}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"get",value:function(a){return this.attributes[a]}},{key:"relation",value:function(a){var b=this.get(a);if(b){if(!(b instanceof V.default))throw new Error("Called relation() on non-relation field "+a);return b._ensureParentAndKey(this,a),b}return new V.default(this,a)}},{key:"escape",value:function(a){var b=this.attributes[a];if(null==b)return"";if("string"!=typeof b){if("function"!=typeof b.toString)return"";b=b.toString()}return(0,G.default)(b)}},{key:"has",value:function(a){var b=this.attributes;return!!b.hasOwnProperty(a)&&null!=b[a]}},{key:"set",value:function(a,b,c){var d={},e={};if(a&&"object"===("undefined"==typeof a?"undefined":(0,r.default)(a)))d=a,c=b;else{if("string"!=typeof a)return this;d[a]=b}c=c||{};var f=[];"function"==typeof this.constructor.readOnlyAttributes&&(f=f.concat(this.constructor.readOnlyAttributes()));for(var g in d)if("createdAt"!==g&&"updatedAt"!==g){if(f.indexOf(g)>-1)throw new Error("Cannot modify readonly attribute: "+g);c.unset?e[g]=new P.UnsetOp:d[g]instanceof P.Op?e[g]=d[g]:d[g]&&"object"===(0,r.default)(d[g])&&"string"==typeof d[g].__op?e[g]=(0,P.opFromJSON)(d[g]):"objectId"===g||"id"===g?"string"==typeof d[g]&&(this.id=d[g]):"ACL"!==g||"object"!==(0,r.default)(d[g])||d[g]instanceof I.default?e[g]=new P.SetOp(d[g]):e[g]=new P.SetOp(new I.default(d[g]))}var h=this.attributes,i={};for(var j in e)e[j]instanceof P.RelationOp?i[j]=e[j].applyTo(h[j],this,j):e[j]instanceof P.UnsetOp||(i[j]=e[j].applyTo(h[j]));if(!c.ignoreValidation){var k=this.validate(i);if(k)return"function"==typeof c.error&&c.error(this,k),!1}var l=this._getPendingOps(),m=l.length-1,n=x.default.getObjectStateController();for(var j in e){var o=e[j].mergeWith(l[m][j]);n.setPendingOp(this._getStateIdentifier(),j,o)}return this}},{key:"unset",value:function(a,b){return b=b||{},b.unset=!0,this.set(a,null,b)}},{key:"increment",value:function(a,b){if("undefined"==typeof b&&(b=1),"number"!=typeof b)throw new Error("Cannot increment by a non-numeric amount.");return this.set(a,new P.IncrementOp(b))}},{key:"add",value:function(a,b){return this.set(a,new P.AddOp([b]))}},{key:"addUnique",value:function(a,b){return this.set(a,new P.AddUniqueOp([b]))}},{key:"remove",value:function(a,b){return this.set(a,new P.RemoveOp([b]))}},{key:"op",value:function(a){for(var b=this._getPendingOps(),c=b.length;c--;)if(b[c][a])return b[c][a]}},{key:"clone",value:function(){var a=new this.constructor;a.className||(a.className=this.className);var b=this.attributes;if("function"==typeof this.constructor.readOnlyAttributes){var c=this.constructor.readOnlyAttributes()||[],d={};for(var e in b)c.indexOf(e)<0&&(d[e]=b[e]);b=d}return a.set&&a.set(b),a}},{key:"newInstance",value:function(){var a=new this.constructor;if(a.className||(a.className=this.className),a.id=this.id,fa)return a;var b=x.default.getObjectStateController();return b&&b.duplicateState(this._getStateIdentifier(),a._getStateIdentifier()),a}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var a=x.default.getObjectStateController(),b=a.getState(this._getStateIdentifier());return!!b&&b.existed}},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(a){if(a.hasOwnProperty("ACL")&&!(a.ACL instanceof I.default))return new M.default(M.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(var b in a)if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(b))return new M.default(M.default.INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var a=this.get("ACL");return a instanceof I.default?a:null}},{key:"setACL",value:function(a,b){return this.set("ACL",a,b)}},{key:"revert",value:function(){this._clearPendingOps()}},{key:"clear",value:function(){var a=this.attributes,b={},c=["createdAt","updatedAt"];"function"==typeof this.constructor.readOnlyAttributes&&(c=c.concat(this.constructor.readOnlyAttributes()));for(var d in a)c.indexOf(d)<0&&(b[d]=!0);return this.set(b,{unset:!0})}},{key:"fetch",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken);var c=x.default.getObjectController();return c.fetch(this,!0,b)._thenRunCallbacks(a)}},{key:"save",value:function(a,b,c){var d,e,f=this;if("object"===("undefined"==typeof a?"undefined":(0,r.default)(a))||"undefined"==typeof a?(d=a,"object"===("undefined"==typeof b?"undefined":(0,r.default)(b))&&(e=b)):(d={},d[a]=b,e=c),!e&&d&&(e={},"function"==typeof d.success&&(e.success=d.success,delete d.success),"function"==typeof d.error&&(e.error=d.error,delete d.error)),d){var g=this.validate(d);if(g)return e&&"function"==typeof e.error&&e.error(this,g),R.default.error(g);this.set(d,e)}e=e||{};var h={};e.hasOwnProperty("useMasterKey")&&(h.useMasterKey=!!e.useMasterKey),e.hasOwnProperty("sessionToken")&&"string"==typeof e.sessionToken&&(h.sessionToken=e.sessionToken);var i=x.default.getObjectController(),j=(0,ba.default)(this);return i.save(j,h).then(function(){return i.save(f,h)})._thenRunCallbacks(e,this)}},{key:"destroy",value:function(a){a=a||{};var b={};return a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken),this.id?x.default.getObjectController().destroy(this,b)._thenRunCallbacks(a):R.default.as()._thenRunCallbacks(a)}},{key:"attributes",get:function(){var a=x.default.getObjectStateController();return(0,l.default)(a.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}}],[{key:"_clearAllState",value:function(){var a=x.default.getObjectStateController();a.clearAllState()}},{key:"fetchAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),x.default.getObjectController().fetch(a,!0,c)._thenRunCallbacks(b)}},{key:"fetchAllIfNeeded",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),x.default.getObjectController().fetch(a,!1,c)._thenRunCallbacks(b)}},{key:"destroyAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),x.default.getObjectController().destroy(a,c)._thenRunCallbacks(b)}},{key:"saveAll",value:function(a,b){var b=b||{},c={};return b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),x.default.getObjectController().save(a,c)._thenRunCallbacks(b)}},{key:"createWithoutData",value:function(a){var b=new this;return b.id=a,b}},{key:"fromJSON",value:function(b,c){if(!b.className)throw new Error("Cannot create an object without a className");var d=ca[b.className],e=d?new d:new a(b.className),f={};for(var g in b)"className"!==g&&"__type"!==g&&(f[g]=b[g]);if(c){f.objectId&&(e.id=f.objectId);var h=null;"function"==typeof e._preserveFieldsOnFetch&&(h=e._preserveFieldsOnFetch()),e._clearServerData(),h&&e._finishFetch(h)}return e._finishFetch(f),b.objectId&&e._setExisted(!0),e}},{key:"registerSubclass",value:function(a,b){if("string"!=typeof a)throw new TypeError("The first argument must be a valid class name.");if("undefined"==typeof b)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof b)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");ca[a]=b,b.className||(b.className=a)}},{key:"extend",value:function(b,c,d){if("string"!=typeof b){if(b&&"string"==typeof b.className)return a.extend(b.className,b,c);throw new Error("Parse.Object.extend's first argument should be the className.")}var e=b;"User"===e&&x.default.get("PERFORM_USER_REWRITE")&&(e="_User");var f=a.prototype;this.hasOwnProperty("__super__")&&this.__super__?f=this.prototype:ca[e]&&(f=ca[e].prototype);var g=function(a,b){if(this.className=e,this._objCount=ea++,"function"==typeof this.initialize&&this.initialize.apply(this,arguments),a&&"object"===("undefined"==typeof a?"undefined":(0,r.default)(a))&&!this.set(a||{},b))throw new Error("Can't create an invalid Parse Object")};if(g.className=e,g.__super__=f,g.prototype=(0,j.default)(f,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),c)for(var i in c)"className"!==i&&(0,h.default)(g.prototype,i,{value:c[i],enumerable:!1,writable:!0,configurable:!0});if(d)for(var i in d)"className"!==i&&(0,h.default)(g,i,{value:d[i],enumerable:!1,writable:!0,configurable:!0});return g.extend=function(b,c,d){return"string"==typeof b?a.extend.call(g,b,c,d):a.extend.call(g,e,b,c)},g.createWithoutData=a.createWithoutData,ca[e]=g,g}},{key:"enableSingleInstance",value:function(){fa=!0,x.default.setObjectStateController(X)}},{key:"disableSingleInstance",value:function(){fa=!1,x.default.setObjectStateController(_)}}]),a}();c.default=ga;var ha={fetch:function(a,b,c){if(Array.isArray(a)){if(a.length<1)return R.default.as([]);var d=[],e=[],f=null,g=[],h=null;if(a.forEach(function(a,c){h||(f||(f=a.className),f!==a.className&&(h=new M.default(M.default.INVALID_CLASS_NAME,"All objects should be of the same class")),a.id||(h=new M.default(M.default.MISSING_OBJECT_ID,"All objects must have an ID")),(b||0===(0,p.default)(a._getServerData()).length)&&(e.push(a.id),d.push(a)),g.push(a))}),h)return R.default.error(h);var i=new T.default(f);return i.containedIn("objectId",e),i._limit=e.length,i.find(c).then(function(a){var c={};a.forEach(function(a){c[a.id]=a});for(var e=0;e<d.length;e++){var f=d[e];if((!f||!f.id||!c[f.id])&&b)return R.default.error(new M.default(M.default.OBJECT_NOT_FOUND,"All objects must exist on the server."))}if(!fa)for(var e=0;e<g.length;e++){var f=g[e];if(f&&f.id&&c[f.id]){var h=f.id;f._finishFetch(c[h].toJSON()),g[e]=c[h]}}return R.default.as(g)})}var j=x.default.getRESTController();return j.request("GET","classes/"+a.className+"/"+a._getId(),{},c).then(function(b,c,d){return a instanceof ga&&(a._clearPendingOps(),a._clearServerData(),a._finishFetch(b)),a})},destroy:function(a,b){var c=x.default.getRESTController();if(Array.isArray(a)){if(a.length<1)return R.default.as([]);var d=[[]];a.forEach(function(a){a.id&&(d[d.length-1].push(a),d[d.length-1].length>=20&&d.push([]))}),0===d[d.length-1].length&&d.pop();var e=R.default.as(),g=[];return d.forEach(function(a){e=e.then(function(){return c.request("POST","batch",{requests:a.map(function(a){return{method:"DELETE",path:f()+"classes/"+a.className+"/"+a._getId(),body:{}}})},b).then(function(b){for(var c=0;c<b.length;c++)if(b[c]&&b[c].hasOwnProperty("error")){var d=new M.default(b[c].error.code,b[c].error.error);d.object=a[c],g.push(d)}})})}),e.then(function(){if(g.length){var b=new M.default(M.default.AGGREGATE_ERROR);return b.errors=g,R.default.error(b)}return R.default.as(a)})}return a instanceof ga?c.request("DELETE","classes/"+a.className+"/"+a._getId(),{},b).then(function(){return R.default.as(a)}):R.default.as(a)},save:function(a,b){var c=x.default.getRESTController(),d=x.default.getObjectStateController();if(Array.isArray(a)){if(a.length<1)return R.default.as([]);for(var e=a.concat(),g=0;g<a.length;g++)a[g]instanceof ga&&(e=e.concat((0,ba.default)(a[g],!0)));e=(0,Z.default)(e);var h=R.default.as(),i=[];return e.forEach(function(a){a instanceof O.default?h=h.then(function(){return a.save()}):a instanceof ga&&i.push(a)}),h.then(function(){var e=null;return R.default._continueWhile(function(){return i.length>0},function(){var a=[],g=[];if(i.forEach(function(b){a.length<20&&(0,z.default)(b)?a.push(b):g.push(b)}),i=g,a.length<1)return R.default.error(new M.default(M.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));
var h=new R.default,j=[],k=[];return a.forEach(function(a,b){var c=new R.default;j.push(c),d.pushPendingState(a._getStateIdentifier()),k.push(d.enqueueTask(a._getStateIdentifier(),function(){return c.resolve(),h.then(function(c,d){if(c[b].hasOwnProperty("success"))a._handleSaveResponse(c[b].success,d);else{if(!e&&c[b].hasOwnProperty("error")){var f=c[b].error;e=new M.default(f.code,f.error),i=[]}a._handleSaveError()}})}))}),R.default.when(j).then(function(){return c.request("POST","batch",{requests:a.map(function(a){var b=a._getSaveParams();return b.path=f()+b.path,b})},b)}).then(function(a,b,c){h.resolve(a,b)}),R.default.when(k)}).then(function(){return e?R.default.error(e):R.default.as(a)})})}if(a instanceof ga){var j=a,k=function(){var a=j._getSaveParams();return c.request(a.method,a.path,a.body,b).then(function(a,b){j._handleSaveResponse(a,b)},function(a){return j._handleSaveError(),R.default.error(a)})};return d.pushPendingState(a._getStateIdentifier()),d.enqueueTask(a._getStateIdentifier(),k).then(function(){return a},function(a){return R.default.error(a)})}return R.default.as()}};x.default.setObjectController(ha)},{"./CoreManager":3,"./ParseACL":11,"./ParseError":13,"./ParseFile":14,"./ParseOp":19,"./ParsePromise":20,"./ParseQuery":21,"./ParseRelation":22,"./SingleInstanceStateController":28,"./UniqueInstanceStateController":32,"./canBeSerialized":34,"./decode":35,"./encode":36,"./equals":37,"./escape":38,"./parseDate":40,"./unique":41,"./unsavedChildren":42,"babel-runtime/core-js/json/stringify":44,"babel-runtime/core-js/object/create":46,"babel-runtime/core-js/object/define-property":47,"babel-runtime/core-js/object/freeze":48,"babel-runtime/core-js/object/keys":51,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/typeof":61}],19:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(!a||!a.__op)return null;switch(a.__op){case"Delete":return new D;case"Increment":return new E(a.amount);case"Add":return new F((0,s.default)(a.objects));case"AddUnique":return new G((0,s.default)(a.objects));case"Remove":return new H((0,s.default)(a.objects));case"AddRelation":var b=(0,s.default)(a.objects);return Array.isArray(b)?new I(b,[]):new I([],[]);case"RemoveRelation":var c=(0,s.default)(a.objects);return Array.isArray(c)?new I([],c):new I([],[]);case"Batch":for(var b=[],c=[],d=0;d<a.ops.length;d++)"AddRelation"===a.ops[d].__op?b=b.concat((0,s.default)(a.ops[d].objects)):"RemoveRelation"===a.ops[d].__op&&(c=c.concat((0,s.default)(a.ops[d].objects)));return new I(b,c)}return null}Object.defineProperty(c,"__esModule",{value:!0}),c.RelationOp=c.RemoveOp=c.AddUniqueOp=c.AddOp=c.IncrementOp=c.UnsetOp=c.SetOp=c.Op=void 0;var f=a("babel-runtime/core-js/object/get-prototype-of"),g=d(f),h=a("babel-runtime/helpers/possibleConstructorReturn"),i=d(h),j=a("babel-runtime/helpers/inherits"),k=d(j),l=a("babel-runtime/helpers/classCallCheck"),m=d(l),n=a("babel-runtime/helpers/createClass"),o=d(n);c.opFromJSON=e;var p=a("./arrayContainsObject"),q=d(p),r=a("./decode"),s=d(r),t=a("./encode"),u=d(t),v=a("./ParseObject"),w=d(v),x=a("./ParseRelation"),y=d(x),z=a("./unique"),A=d(z),B=c.Op=function(){function a(){(0,m.default)(this,a)}return(0,o.default)(a,[{key:"applyTo",value:function(a){}},{key:"mergeWith",value:function(a){}},{key:"toJSON",value:function(){}}]),a}(),C=c.SetOp=function(a){function b(a){(0,m.default)(this,b);var c=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));return c._value=a,c}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){return this._value}},{key:"mergeWith",value:function(a){return new b(this._value)}},{key:"toJSON",value:function(){return(0,u.default)(this._value,!1,!0)}}]),b}(B),D=c.UnsetOp=function(a){function b(){return(0,m.default)(this,b),(0,i.default)(this,(b.__proto__||(0,g.default)(b)).apply(this,arguments))}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){}},{key:"mergeWith",value:function(a){return new b}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),b}(B),E=c.IncrementOp=function(a){function b(a){(0,m.default)(this,b);var c=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));if("number"!=typeof a)throw new TypeError("Increment Op must be initialized with a numeric amount.");return c._amount=a,c}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){if("undefined"==typeof a)return this._amount;if("number"!=typeof a)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+a}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof C)return new C(this.applyTo(a._value));if(a instanceof D)return new C(this._amount);if(a instanceof b)return new b(this.applyTo(a._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),b}(B),F=c.AddOp=function(a){function b(a){(0,m.default)(this,b);var c=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));return c._value=Array.isArray(a)?a:[a],c}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){if(null==a)return this._value;if(Array.isArray(a))return a.concat(this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof C)return new C(this.applyTo(a._value));if(a instanceof D)return new C(this._value);if(a instanceof b)return new b(this.applyTo(a._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,u.default)(this._value,!1,!0)}}}]),b}(B),G=c.AddUniqueOp=function(a){function b(a){(0,m.default)(this,b);var c=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));return c._value=(0,A.default)(Array.isArray(a)?a:[a]),c}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){if(null==a)return this._value||[];if(Array.isArray(a)){var b=a,c=[];return this._value.forEach(function(a){a instanceof w.default?(0,q.default)(b,a)||c.push(a):b.indexOf(a)<0&&c.push(a)}),a.concat(c)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof C)return new C(this.applyTo(a._value));if(a instanceof D)return new C(this._value);if(a instanceof b)return new b(this.applyTo(a._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,u.default)(this._value,!1,!0)}}}]),b}(B),H=c.RemoveOp=function(a){function b(a){(0,m.default)(this,b);var c=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));return c._value=(0,A.default)(Array.isArray(a)?a:[a]),c}return(0,k.default)(b,a),(0,o.default)(b,[{key:"applyTo",value:function(a){if(null==a)return[];if(Array.isArray(a)){for(var b=a.indexOf(this._value),c=a.concat([]),b=0;b<this._value.length;b++){for(var d=c.indexOf(this._value[b]);d>-1;)c.splice(d,1),d=c.indexOf(this._value[b]);if(this._value[b]instanceof w.default&&this._value[b].id)for(var e=0;e<c.length;e++)c[e]instanceof w.default&&this._value[b].id===c[e].id&&(c.splice(e,1),e--)}return c}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof C)return new C(this.applyTo(a._value));if(a instanceof D)return new D;if(a instanceof b){for(var c=a._value.concat([]),d=0;d<this._value.length;d++)this._value[d]instanceof w.default?(0,q.default)(c,this._value[d])||c.push(this._value[d]):c.indexOf(this._value[d])<0&&c.push(this._value[d]);return new b(c)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,u.default)(this._value,!1,!0)}}}]),b}(B),I=c.RelationOp=function(a){function b(a,c){(0,m.default)(this,b);var d=(0,i.default)(this,(b.__proto__||(0,g.default)(b)).call(this));return d._targetClassName=null,Array.isArray(a)&&(d.relationsToAdd=(0,A.default)(a.map(d._extractId,d))),Array.isArray(c)&&(d.relationsToRemove=(0,A.default)(c.map(d._extractId,d))),d}return(0,k.default)(b,a),(0,o.default)(b,[{key:"_extractId",value:function(a){if("string"==typeof a)return a;if(!a.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=a.className),this._targetClassName!==a.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+a.className+".");return a.id}},{key:"applyTo",value:function(a,b,c){if(!a){if(!b||!c)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var d=new w.default(b.className);b.id&&0===b.id.indexOf("local")?d._localId=b.id:b.id&&(d.id=b.id);var e=new y.default(d,c);return e.targetClassName=this._targetClassName,e}if(a instanceof y.default){if(this._targetClassName)if(a.targetClassName){if(this._targetClassName!==a.targetClassName)throw new Error("Related object must be a "+a.targetClassName+", but a "+this._targetClassName+" was passed in.")}else a.targetClassName=this._targetClassName;return a}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(a){if(!a)return this;if(a instanceof D)throw new Error("You cannot modify a relation after deleting it.");if(a instanceof b){if(a._targetClassName&&a._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+a._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var c=a.relationsToAdd.concat([]);this.relationsToRemove.forEach(function(a){var b=c.indexOf(a);b>-1&&c.splice(b,1)}),this.relationsToAdd.forEach(function(a){var b=c.indexOf(a);b<0&&c.push(a)});var d=a.relationsToRemove.concat([]);this.relationsToAdd.forEach(function(a){var b=d.indexOf(a);b>-1&&d.splice(b,1)}),this.relationsToRemove.forEach(function(a){var b=d.indexOf(a);b<0&&d.push(a)});var e=new b(c,d);return e._targetClassName=this._targetClassName,e}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var a=this,b=function(b){return{__type:"Pointer",className:a._targetClassName,objectId:b}},c=null,d=null,e=null;return this.relationsToAdd.length>0&&(e=this.relationsToAdd.map(b),c={__op:"AddRelation",objects:e}),this.relationsToRemove.length>0&&(e=this.relationsToRemove.map(b),d={__op:"RemoveRelation",objects:e}),c&&d?{__op:"Batch",ops:[c,d]}:c||d||{}}}]),b}(B)},{"./ParseObject":18,"./ParseRelation":22,"./arrayContainsObject":33,"./decode":35,"./encode":36,"./unique":41,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],20:[function(a,b,c){(function(b){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/get-iterator"),f=d(e),g=a("babel-runtime/helpers/typeof"),h=d(g),i=a("babel-runtime/helpers/classCallCheck"),j=d(i),k=a("babel-runtime/helpers/createClass"),l=d(k),m=!0,n=function(){function a(b){(0,j.default)(this,a),this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[],"function"==typeof b&&b(this.resolve.bind(this),this.reject.bind(this))}return(0,l.default)(a,[{key:"resolve",value:function(){if(this._resolved||this._rejected)throw new Error("A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._resolved=!0;for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this._result=b;for(var d=0;d<this._resolvedCallbacks.length;d++)this._resolvedCallbacks[d].apply(this,b);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"reject",value:function(a){if(this._resolved||this._rejected)throw new Error("A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".");this._rejected=!0,this._error=a;for(var b=0;b<this._rejectedCallbacks.length;b++)this._rejectedCallbacks[b](a);this._resolvedCallbacks=[],this._rejectedCallbacks=[]}},{key:"then",value:function(c,d){var e=this,f=new a,g=function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];if("function"==typeof c)if(m)try{d=[c.apply(this,d)]}catch(b){d=[a.error(b)]}else d=[c.apply(this,d)];1===d.length&&a.is(d[0])?d[0].then(function(){f.resolve.apply(f,arguments)},function(a){f.reject(a)}):f.resolve.apply(f,d)},h=function(b){var c=[];if("function"==typeof d){if(m)try{c=[d(b)]}catch(b){c=[a.error(b)]}else c=[d(b)];1===c.length&&a.is(c[0])?c[0].then(function(){f.resolve.apply(f,arguments)},function(a){f.reject(a)}):m?f.resolve.apply(f,c):f.reject(c[0])}else f.reject(b)},i=function(a){a.call()};return m&&("undefined"!=typeof b&&"function"==typeof b.nextTick?i=function(a){b.nextTick(a)}:"function"==typeof setTimeout&&(i=function(a){setTimeout(a,0)})),this._resolved?i(function(){g.apply(e,e._result)}):this._rejected?i(function(){h(e._error)}):(this._resolvedCallbacks.push(g),this._rejectedCallbacks.push(h)),f}},{key:"always",value:function(a){return this.then(a,a)}},{key:"done",value:function(a){return this.then(a)}},{key:"fail",value:function(a){return this.then(null,a)}},{key:"catch",value:function(a){return this.then(null,a)}},{key:"_thenRunCallbacks",value:function(b,c){var d={};return"function"==typeof b?(d.success=function(a){b(a,null)},d.error=function(a){b(null,a)}):"object"===("undefined"==typeof b?"undefined":(0,h.default)(b))&&("function"==typeof b.success&&(d.success=b.success),"function"==typeof b.error&&(d.error=b.error)),this.then(function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];return d.success&&d.success.apply(this,c),a.as.apply(a,arguments)},function(b){return d.error&&("undefined"!=typeof c?d.error(c,b):d.error(b)),a.error(b)})}},{key:"_continueWith",value:function(a){return this.then(function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a(c,null)},function(b){return a(null,b)})}}],[{key:"is",value:function(a){return null!=a&&"function"==typeof a.then}},{key:"as",value:function(){for(var b=new a,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.resolve.apply(b,d),b}},{key:"resolve",value:function(b){return new a(function(c,d){a.is(b)?b.then(c,d):c(b)})}},{key:"error",value:function(){for(var b=new a,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b.reject.apply(b,d),b}},{key:"reject",value:function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.error.apply(null,c)}},{key:"when",value:function(b){var c,d=Array.isArray(b);c=d?b:arguments;var e=c.length,f=!1,g=[],h=d?[g]:g,i=[];if(g.length=c.length,i.length=c.length,0===e)return a.as.apply(this,h);for(var j=new a,k=function(){e--,e<=0&&(f?j.reject(i):j.resolve.apply(j,h))},l=function(b,c){a.is(b)?b.then(function(a){g[c]=a,k()},function(a){i[c]=a,f=!0,k()}):(g[m]=b,k())},m=0;m<c.length;m++)l(c[m],m);return j}},{key:"all",value:function(b){var c=0,d=[],e=!0,g=!1,h=void 0;try{for(var i,j=(0,f.default)(b);!(e=(i=j.next()).done);e=!0){var k=i.value;d[c++]=k}}catch(a){g=!0,h=a}finally{try{!e&&j.return&&j.return()}finally{if(g)throw h}}if(0===c)return a.as([]);var l=!1,m=new a,n=0,o=[];return d.forEach(function(b,d){a.is(b)?b.then(function(a){return!l&&(o[d]=a,n++,void(n>=c&&m.resolve(o)))},function(a){m.reject(a),l=!0}):(o[d]=b,n++,!l&&n>=c&&m.resolve(o))}),m}},{key:"race",value:function(b){var c=!1,d=new a,e=!0,g=!1,h=void 0;try{for(var i,j=(0,f.default)(b);!(e=(i=j.next()).done);e=!0){var k=i.value;a.is(k)?k.then(function(a){c||(c=!0,d.resolve(a))},function(a){c||(c=!0,d.reject(a))}):c||(c=!0,d.resolve(k))}}catch(a){g=!0,h=a}finally{try{!e&&j.return&&j.return()}finally{if(g)throw h}}return d}},{key:"_continueWhile",value:function(b,c){return b()?c().then(function(){return a._continueWhile(b,c)}):a.as()}},{key:"isPromisesAPlusCompliant",value:function(){return m}},{key:"enableAPlusCompliant",value:function(){m=!0}},{key:"disableAPlusCompliant",value:function(){m=!1}}]),a}();c.default=n}).call(this,a("_process"))},{_process:168,"babel-runtime/core-js/get-iterator":43,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/typeof":61}],21:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return"\\Q"+a.replace("\\E","\\E\\\\E\\Q")+"\\E"}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/helpers/typeof"),g=d(f),h=a("babel-runtime/helpers/classCallCheck"),i=d(h),j=a("babel-runtime/helpers/createClass"),k=d(j),l=a("./CoreManager"),m=d(l),n=a("./encode"),o=d(n),p=a("./ParseError"),q=d(p),r=a("./ParseGeoPoint"),s=d(r),t=a("./ParseObject"),u=d(t),v=a("./ParsePromise"),w=d(v),x=function(){function a(b){if((0,i.default)(this,a),"string"==typeof b)"User"===b&&m.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=b;else if(b instanceof u.default)this.className=b.className;else{if("function"!=typeof b)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"==typeof b.className)this.className=b.className;else{var c=new b;this.className=c.className}}this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}}return(0,k.default)(a,[{key:"_orQuery",value:function(a){var b=a.map(function(a){return a.toJSON().where});return this._where.$or=b,this}},{key:"_addCondition",value:function(a,b,c){return this._where[a]&&"string"!=typeof this._where[a]||(this._where[a]={}),this._where[a][b]=(0,o.default)(c,!1,!0),this}},{key:"toJSON",value:function(){var a={where:this._where};this._include.length&&(a.include=this._include.join(",")),this._select&&(a.keys=this._select.join(",")),this._limit>=0&&(a.limit=this._limit),this._skip>0&&(a.skip=this._skip),this._order&&(a.order=this._order.join(","));for(var b in this._extraOptions)a[b]=this._extraOptions[b];return a}},{key:"get",value:function(a,b){this.equalTo("objectId",a);var c={};return b&&b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b&&b.hasOwnProperty("sessionToken")&&(c.sessionToken=b.sessionToken),this.first(c).then(function(a){if(a)return a;var b=new q.default(q.default.OBJECT_NOT_FOUND,"Object not found.");return w.default.error(b)})._thenRunCallbacks(b,null)}},{key:"find",value:function(a){var b=this;a=a||{};var c={};a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(c.sessionToken=a.sessionToken);var d=m.default.getQueryController();return d.find(this.className,this.toJSON(),c).then(function(a){return a.results.map(function(c){var d=a.className||b.className;return c.className||(c.className=d),u.default.fromJSON(c,!0)})})._thenRunCallbacks(a)}},{key:"count",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(b.sessionToken=a.sessionToken);var c=m.default.getQueryController(),d=this.toJSON();return d.limit=0,d.count=1,c.find(this.className,d,b).then(function(a){return a.count})._thenRunCallbacks(a)}},{key:"first",value:function(a){var b=this;a=a||{};var c={};a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),a.hasOwnProperty("sessionToken")&&(c.sessionToken=a.sessionToken);var d=m.default.getQueryController(),e=this.toJSON();return e.limit=1,d.find(this.className,e,c).then(function(a){var c=a.results;if(c[0])return c[0].className||(c[0].className=b.className),u.default.fromJSON(c[0],!0)})._thenRunCallbacks(a)}},{key:"each",value:function(b,c){if(c=c||{},this._order||this._skip||this._limit>=0)return w.default.error("Cannot iterate on a query with sort, skip, or limit.")._thenRunCallbacks(c);new w.default;var d=new a(this.className);d._limit=c.batchSize||100,d._include=this._include.map(function(a){return a}),this._select&&(d._select=this._select.map(function(a){return a})),d._where={};for(var e in this._where){var f=this._where[e];if(Array.isArray(f))d._where[e]=f.map(function(a){return a});else if(f&&"object"===("undefined"==typeof f?"undefined":(0,g.default)(f))){var h={};d._where[e]=h;for(var i in f)h[i]=f[i]}else d._where[e]=f}d.ascending("objectId");var j={};c.hasOwnProperty("useMasterKey")&&(j.useMasterKey=c.useMasterKey),c.hasOwnProperty("sessionToken")&&(j.sessionToken=c.sessionToken);var k=!1;return w.default._continueWhile(function(){return!k},function(){return d.find(j).then(function(a){var c=w.default.as();return a.forEach(function(a){c=c.then(function(){return b(a)})}),c.then(function(){a.length>=d._limit?d.greaterThan("objectId",a[a.length-1].id):k=!0})})})._thenRunCallbacks(c)}},{key:"equalTo",value:function(a,b){return"undefined"==typeof b?this.doesNotExist(a):(this._where[a]=(0,o.default)(b,!1,!0),this)}},{key:"notEqualTo",value:function(a,b){return this._addCondition(a,"$ne",b)}},{key:"lessThan",value:function(a,b){return this._addCondition(a,"$lt",b)}},{key:"greaterThan",value:function(a,b){return this._addCondition(a,"$gt",b)}},{key:"lessThanOrEqualTo",value:function(a,b){return this._addCondition(a,"$lte",b)}},{key:"greaterThanOrEqualTo",value:function(a,b){return this._addCondition(a,"$gte",b)}},{key:"containedIn",value:function(a,b){return this._addCondition(a,"$in",b)}},{key:"notContainedIn",value:function(a,b){return this._addCondition(a,"$nin",b)}},{key:"containsAll",value:function(a,b){return this._addCondition(a,"$all",b)}},{key:"exists",value:function(a){return this._addCondition(a,"$exists",!0)}},{key:"doesNotExist",value:function(a){return this._addCondition(a,"$exists",!1)}},{key:"matches",value:function(a,b,c){return this._addCondition(a,"$regex",b),c||(c=""),b.ignoreCase&&(c+="i"),b.multiline&&(c+="m"),c.length&&this._addCondition(a,"$options",c),this}},{key:"matchesQuery",value:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$inQuery",c)}},{key:"doesNotMatchQuery",value:function(a,b){var c=b.toJSON();return c.className=b.className,this._addCondition(a,"$notInQuery",c)}},{key:"matchesKeyInQuery",value:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$select",{key:b,query:d})}},{key:"doesNotMatchKeyInQuery",value:function(a,b,c){var d=c.toJSON();return d.className=c.className,this._addCondition(a,"$dontSelect",{key:b,query:d})}},{key:"contains",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex",e(b))}},{key:"startsWith",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex","^"+e(b))}},{key:"endsWith",value:function(a,b){if("string"!=typeof b)throw new Error("The value being searched for must be a string.");return this._addCondition(a,"$regex",e(b)+"$")}},{key:"near",value:function(a,b){return b instanceof s.default||(b=new s.default(b)),this._addCondition(a,"$nearSphere",b)}},{key:"withinRadians",value:function(a,b,c){return this.near(a,b),this._addCondition(a,"$maxDistance",c)}},{key:"withinMiles",value:function(a,b,c){return this.withinRadians(a,b,c/3958.8)}},{key:"withinKilometers",value:function(a,b,c){return this.withinRadians(a,b,c/6371)}},{key:"withinGeoBox",value:function(a,b,c){return b instanceof s.default||(b=new s.default(b)),c instanceof s.default||(c=new s.default(c)),this._addCondition(a,"$within",{$box:[b,c]}),this}},{key:"ascending",value:function(){this._order=[];for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.addAscending.apply(this,b)}},{key:"addAscending",value:function(){var a=this;this._order||(this._order=[]);for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)&&(b=b.join()),a._order=a._order.concat(b.replace(/\s/g,"").split(","))}),this}},{key:"descending",value:function(){this._order=[];for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.addDescending.apply(this,b)}},{key:"addDescending",value:function(){var a=this;this._order||(this._order=[]);for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)&&(b=b.join()),a._order=a._order.concat(b.replace(/\s/g,"").split(",").map(function(a){return"-"+a}))}),this}},{key:"skip",value:function(a){if("number"!=typeof a||a<0)throw new Error("You can only skip by a positive number");return this._skip=a,this}},{key:"limit",value:function(a){if("number"!=typeof a)throw new Error("You can only set the limit to a numeric value");return this._limit=a,this}},{key:"include",value:function(){for(var a=this,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)?a._include=a._include.concat(b):a._include.push(b)}),this}},{key:"select",value:function(){var a=this;this._select||(this._select=[]);for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){Array.isArray(b)?a._select=a._select.concat(b):a._select.push(b)}),this}},{key:"subscribe",value:function(){var a=m.default.getLiveQueryController();return a.subscribe(this)}}],[{key:"or",value:function(){for(var b=null,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];d.forEach(function(a){if(b||(b=a.className),b!==a.className)throw new Error("All queries must be for the same class.")});var f=new a(b);return f._orQuery(d),f}}]),a}();c.default=x;var y={find:function(a,b,c){var d=m.default.getRESTController();return d.request("GET","classes/"+a,b,c)}};m.default.setQueryController(y)},{"./CoreManager":3,"./ParseError":13,"./ParseGeoPoint":15,"./ParseObject":18,"./ParsePromise":20,"./encode":36,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/typeof":61}],22:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/classCallCheck"),f=d(e),g=a("babel-runtime/helpers/createClass"),h=d(g),i=a("./ParseOp"),j=a("./ParseObject"),k=(d(j),a("./ParseQuery")),l=d(k),m=function(){function a(b,c){(0,f.default)(this,a),this.parent=b,this.key=c,this.targetClassName=null}return(0,h.default)(a,[{key:"_ensureParentAndKey",value:function(a,b){if(this.key=this.key||b,this.key!==b)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==a.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==a.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else a.id&&(this.parent=a)}else this.parent=a}},{key:"add",value:function(a){Array.isArray(a)||(a=[a]);var b=new i.RelationOp(a,[]),c=this.parent;if(!c)throw new Error("Cannot add to a Relation without a parent");return c.set(this.key,b),this.targetClassName=b._targetClassName,c}},{key:"remove",value:function(a){Array.isArray(a)||(a=[a]);var b=new i.RelationOp([],a);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");this.parent.set(this.key,b),this.targetClassName=b._targetClassName}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var a,b=this.parent;if(!b)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?a=new l.default(this.targetClassName):(a=new l.default(b.className),a._extraOptions.redirectClassNameForKey=this.key),a._addCondition("$relatedTo","object",{__type:"Pointer",className:b.className,objectId:b.id}),a._addCondition("$relatedTo","key",this.key),a}}]),a}();c.default=m},{"./ParseObject":18,"./ParseOp":19,"./ParseQuery":21,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57}],23:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/object/get-prototype-of"),f=d(e),g=a("babel-runtime/helpers/classCallCheck"),h=d(g),i=a("babel-runtime/helpers/createClass"),j=d(i),k=a("babel-runtime/helpers/possibleConstructorReturn"),l=d(k),m=a("babel-runtime/helpers/get"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q=a("./ParseACL"),r=d(q),s=a("./ParseError"),t=d(s),u=a("./ParseObject"),v=d(u),w=function(a){function b(a,c){(0,h.default)(this,b);var d=(0,l.default)(this,(b.__proto__||(0,f.default)(b)).call(this,"_Role"));return"string"==typeof a&&c instanceof r.default&&(d.setName(a),d.setACL(c)),d}return(0,p.default)(b,a),(0,j.default)(b,[{key:"getName",value:function(){var a=this.get("name");return null==a||"string"==typeof a?a:""}},{key:"setName",value:function(a,b){return this.set("name",a,b)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(a,c){var d=(0,n.default)(b.prototype.__proto__||(0,f.default)(b.prototype),"validate",this).call(this,a,c);if(d)return d;if("name"in a&&a.name!==this.getName()){var e=a.name;if(this.id&&this.id!==a.objectId)return new t.default(t.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof e)return new t.default(t.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(e))return new t.default(t.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),b}(v.default);c.default=w,v.default.registerSubclass("_Role",w)},{"./ParseACL":11,"./ParseError":13,"./ParseObject":18,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60}],24:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/helpers/typeof"),f=d(e),g=a("babel-runtime/core-js/object/get-prototype-of"),h=d(g),i=a("babel-runtime/helpers/classCallCheck"),j=d(i),k=a("babel-runtime/helpers/createClass"),l=d(k),m=a("babel-runtime/helpers/possibleConstructorReturn"),n=d(m),o=a("babel-runtime/helpers/inherits"),p=d(o),q=a("./CoreManager"),r=d(q),s=a("./isRevocableSession"),t=d(s),u=a("./ParseObject"),v=d(u),w=a("./ParsePromise"),x=d(w),y=a("./ParseUser"),z=d(y),A=function(a){function b(a){(0,j.default)(this,b);var c=(0,n.default)(this,(b.__proto__||(0,h.default)(b)).call(this,"_Session"));if(a&&"object"===("undefined"==typeof a?"undefined":(0,f.default)(a))&&!c.set(a||{}))throw new Error("Can't create an invalid Session");return c}return(0,p.default)(b,a),(0,l.default)(b,[{key:"getSessionToken",value:function(){var a=this.get("sessionToken");return"string"==typeof a?a:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(a){a=a||{};var b=r.default.getSessionController(),c={};return a.hasOwnProperty("useMasterKey")&&(c.useMasterKey=a.useMasterKey),z.default.currentAsync().then(function(a){return a?(a.getSessionToken(),c.sessionToken=a.getSessionToken(),b.getSession(c)):x.default.error("There is no current user.")})}},{key:"isCurrentSessionRevocable",value:function(){var a=z.default.current();return!!a&&(0,t.default)(a.getSessionToken()||"")}}]),b}(v.default);c.default=A,v.default.registerSubclass("_Session",A);var B={getSession:function(a){var b=r.default.getRESTController(),c=new A;return b.request("GET","sessions/me",{},a).then(function(a){return c._finishFetch(a),c._setExisted(!0),c})}};r.default.setSessionController(B)},{"./CoreManager":3,"./ParseObject":18,"./ParsePromise":20,"./ParseUser":25,
"./isRevocableSession":39,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/typeof":61}],25:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("babel-runtime/core-js/json/stringify"),f=d(e),g=a("babel-runtime/core-js/object/define-property"),h=d(g),i=a("babel-runtime/helpers/typeof"),j=d(i),k=a("babel-runtime/core-js/object/get-prototype-of"),l=d(k),m=a("babel-runtime/helpers/classCallCheck"),n=d(m),o=a("babel-runtime/helpers/createClass"),p=d(o),q=a("babel-runtime/helpers/possibleConstructorReturn"),r=d(q),s=a("babel-runtime/helpers/get"),t=d(s),u=a("babel-runtime/helpers/inherits"),v=d(u),w=a("./CoreManager"),x=d(w),y=a("./isRevocableSession"),z=d(y),A=a("./ParseError"),B=d(A),C=a("./ParseObject"),D=d(C),E=a("./ParsePromise"),F=d(E),G=a("./ParseSession"),H=d(G),I=a("./Storage"),J=d(I),K="currentUser",L=!x.default.get("IS_NODE"),M=!1,N=null,O={},P=function(a){function b(a){(0,n.default)(this,b);var c=(0,r.default)(this,(b.__proto__||(0,l.default)(b)).call(this,"_User"));if(a&&"object"===("undefined"==typeof a?"undefined":(0,j.default)(a))&&!c.set(a||{}))throw new Error("Can't create an invalid Parse User");return c}return(0,v.default)(b,a),(0,p.default)(b,[{key:"_upgradeToRevocableSession",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey);var c=x.default.getUserController();return c.upgradeToRevocableSession(this,b)._thenRunCallbacks(a)}},{key:"_linkWith",value:function(a,b){var c,d=this;if("string"==typeof a?(c=a,a=O[a]):c=a.getAuthType(),b&&b.hasOwnProperty("authData")){var e=this.get("authData")||{};if("object"!==("undefined"==typeof e?"undefined":(0,j.default)(e)))throw new Error("Invalid type: authData field should be an object");e[c]=b.authData;var f=x.default.getUserController();return f.linkWith(this,e)._thenRunCallbacks(b,this)}var g=new F.default;return a.authenticate({success:function(a,c){var e={};e.authData=c,b.success&&(e.success=b.success),b.error&&(e.error=b.error),d._linkWith(a,e).then(function(){g.resolve(d)},function(a){g.reject(a)})},error:function(a,c){"function"==typeof b.error&&b.error(d,c),g.reject(c)}}),g}},{key:"_synchronizeAuthData",value:function(a){if(this.isCurrent()&&a){var b;"string"==typeof a?(b=a,a=O[b]):b=a.getAuthType();var c=this.get("authData");if(a&&c&&"object"===("undefined"==typeof c?"undefined":(0,j.default)(c))){var d=a.restoreAuthentication(c[b]);d||this._unlinkFrom(a)}}}},{key:"_synchronizeAllAuthData",value:function(){var a=this.get("authData");if("object"===("undefined"==typeof a?"undefined":(0,j.default)(a)))for(var b in a)this._synchronizeAuthData(b)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var a=this.get("authData");if("object"===("undefined"==typeof a?"undefined":(0,j.default)(a)))for(var b in a)a[b]||delete a[b]}}},{key:"_unlinkFrom",value:function(a,b){var c=this;return"string"==typeof a?a=O[a]:a.getAuthType(),this._linkWith(a,{authData:null}).then(function(){return c._synchronizeAuthData(a),F.default.as(c)})._thenRunCallbacks(b)}},{key:"_isLinked",value:function(a){var b;b="string"==typeof a?a:a.getAuthType();var c=this.get("authData")||{};return"object"===("undefined"==typeof c?"undefined":(0,j.default)(c))&&!!c[b]}},{key:"_logOutWithAll",value:function(){var a=this.get("authData");if("object"===("undefined"==typeof a?"undefined":(0,j.default)(a)))for(var b in a)this._logOutWith(b)}},{key:"_logOutWith",value:function(a){this.isCurrent()&&("string"==typeof a&&(a=O[a]),a&&a.deauthenticate&&a.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var a=b.current();return!!a&&a.id===this.id}},{key:"getUsername",value:function(){var a=this.get("username");return null==a||"string"==typeof a?a:""}},{key:"setUsername",value:function(a){var b=this.get("authData");b&&"object"===("undefined"==typeof b?"undefined":(0,j.default)(b))&&b.hasOwnProperty("anonymous")&&(b.anonymous=null),this.set("username",a)}},{key:"setPassword",value:function(a){this.set("password",a)}},{key:"getEmail",value:function(){var a=this.get("email");return null==a||"string"==typeof a?a:""}},{key:"setEmail",value:function(a){this.set("email",a)}},{key:"getSessionToken",value:function(){var a=this.get("sessionToken");return null==a||"string"==typeof a?a:""}},{key:"authenticated",value:function(){var a=b.current();return!!this.get("sessionToken")&&!!a&&a.id===this.id}},{key:"signUp",value:function(a,b){b=b||{};var c={};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey),b.hasOwnProperty("installationId")&&(c.installationId=b.installationId);var d=x.default.getUserController();return d.signUp(this,a,c)._thenRunCallbacks(b,this)}},{key:"logIn",value:function(a){a=a||{};var b={};a.hasOwnProperty("useMasterKey")&&(b.useMasterKey=a.useMasterKey),a.hasOwnProperty("installationId")&&(b.installationId=a.installationId);var c=x.default.getUserController();return c.logIn(this,b)._thenRunCallbacks(a,this)}},{key:"save",value:function(){for(var a=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return(0,t.default)(b.prototype.__proto__||(0,l.default)(b.prototype),"save",this).apply(this,d).then(function(){return a.isCurrent()?x.default.getUserController().updateUserOnDisk(a):a})}},{key:"destroy",value:function(){for(var a=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return(0,t.default)(b.prototype.__proto__||(0,l.default)(b.prototype),"destroy",this).apply(this,d).then(function(){return a.isCurrent()?x.default.getUserController().removeUserFromDisk():a})}},{key:"fetch",value:function(){for(var a=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return(0,t.default)(b.prototype.__proto__||(0,l.default)(b.prototype),"fetch",this).apply(this,d).then(function(){return a.isCurrent()?x.default.getUserController().updateUserOnDisk(a):a})}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(a,c){if(a)for(var d in a)"className"!==d&&(0,h.default)(b.prototype,d,{value:a[d],enumerable:!1,writable:!0,configurable:!0});if(c)for(var d in c)"className"!==d&&(0,h.default)(b,d,{value:c[d],enumerable:!1,writable:!0,configurable:!0});return b}},{key:"current",value:function(){if(!L)return null;var a=x.default.getUserController();return a.currentUser()}},{key:"currentAsync",value:function(){if(!L)return F.default.as(null);var a=x.default.getUserController();return a.currentUserAsync()}},{key:"signUp",value:function(a,c,d,e){d=d||{},d.username=a,d.password=c;var f=new b(d);return f.signUp({},e)}},{key:"logIn",value:function(a,c,d){if("string"!=typeof a)return F.default.error(new B.default(B.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof c)return F.default.error(new B.default(B.default.OTHER_CAUSE,"Password must be a string."));var e=new b;return e._finishFetch({username:a,password:c}),e.logIn(d)}},{key:"become",value:function(a,b){if(!L)throw new Error("It is not memory-safe to become a user in a server environment");b=b||{};var c={sessionToken:a};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey);var d=x.default.getUserController();return d.become(c)._thenRunCallbacks(b)}},{key:"logInWith",value:function(a,c){return b._logInWith(a,c)}},{key:"logOut",value:function(){if(!L)throw new Error("There is no current user user on a node.js server environment.");var a=x.default.getUserController();return a.logOut()}},{key:"requestPasswordReset",value:function(a,b){b=b||{};var c={};b.hasOwnProperty("useMasterKey")&&(c.useMasterKey=b.useMasterKey);var d=x.default.getUserController();return d.requestPasswordReset(a,c)._thenRunCallbacks(b)}},{key:"allowCustomUserClass",value:function(a){x.default.set("PERFORM_USER_REWRITE",!a)}},{key:"enableRevocableSession",value:function(a){if(a=a||{},x.default.set("FORCE_REVOCABLE_SESSION",!0),L){var c=b.current();if(c)return c._upgradeToRevocableSession(a)}return F.default.as()._thenRunCallbacks(a)}},{key:"enableUnsafeCurrentUser",value:function(){L=!0}},{key:"disableUnsafeCurrentUser",value:function(){L=!1}},{key:"_registerAuthenticationProvider",value:function(a){O[a.getAuthType()]=a,b.currentAsync().then(function(b){b&&b._synchronizeAuthData(a.getAuthType())})}},{key:"_logInWith",value:function(a,c){var d=new b;return d._linkWith(a,c)}},{key:"_clearCache",value:function(){N=null,M=!1}},{key:"_setCurrentUserCache",value:function(a){N=a}}]),b}(D.default);c.default=P,D.default.registerSubclass("_User",P);var Q={updateUserOnDisk:function(a){var b=J.default.generatePath(K),c=a.toJSON();return c.className="_User",J.default.setItemAsync(b,(0,f.default)(c)).then(function(){return a})},removeUserFromDisk:function(){var a=J.default.generatePath(K);return M=!0,N=null,J.default.removeItemAsync(a)},setCurrentUser:function(a){return N=a,a._cleanupAuthData(),a._synchronizeAllAuthData(),Q.updateUserOnDisk(a)},currentUser:function(){if(N)return N;if(M)return null;if(J.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var a=J.default.generatePath(K),b=J.default.getItem(a);if(M=!0,!b)return N=null,null;b=JSON.parse(b),b.className||(b.className="_User"),b._id&&(b.objectId!==b._id&&(b.objectId=b._id),delete b._id),b._sessionToken&&(b.sessionToken=b._sessionToken,delete b._sessionToken);var c=D.default.fromJSON(b);return N=c,c._synchronizeAllAuthData(),c},currentUserAsync:function(){if(N)return F.default.as(N);if(M)return F.default.as(null);var a=J.default.generatePath(K);return J.default.getItemAsync(a).then(function(a){if(M=!0,!a)return N=null,F.default.as(null);a=JSON.parse(a),a.className||(a.className="_User"),a._id&&(a.objectId!==a._id&&(a.objectId=a._id),delete a._id),a._sessionToken&&(a.sessionToken=a._sessionToken,delete a._sessionToken);var b=D.default.fromJSON(a);return N=b,b._synchronizeAllAuthData(),F.default.as(b)})},signUp:function(a,b,c){var d=b&&b.username||a.get("username"),e=b&&b.password||a.get("password");return d&&d.length?e&&e.length?a.save(b,c).then(function(){return a._finishFetch({password:void 0}),L?Q.setCurrentUser(a):a}):F.default.error(new B.default(B.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):F.default.error(new B.default(B.default.OTHER_CAUSE,"Cannot sign up user with an empty name."))},logIn:function(a,b){var c=x.default.getRESTController(),d=x.default.getObjectStateController(),e={username:a.get("username"),password:a.get("password")};return c.request("GET","login",e,b).then(function(b,c){return a._migrateId(b.objectId),a._setExisted(!0),d.setPendingOp(a._getStateIdentifier(),"username",void 0),d.setPendingOp(a._getStateIdentifier(),"password",void 0),b.password=void 0,a._finishFetch(b),L?Q.setCurrentUser(a):F.default.as(a)})},become:function(a){var b=new P,c=x.default.getRESTController();return c.request("GET","users/me",{},a).then(function(a,c){return b._finishFetch(a),b._setExisted(!0),Q.setCurrentUser(b)})},logOut:function(){return Q.currentUserAsync().then(function(a){var b=J.default.generatePath(K),c=J.default.removeItemAsync(b),d=x.default.getRESTController();if(null!==a){var e=a.getSessionToken();e&&(0,z.default)(e)&&(c=c.then(function(){return d.request("POST","logout",{},{sessionToken:e})})),a._logOutWithAll(),a._finishFetch({sessionToken:void 0})}return M=!0,N=null,c})},requestPasswordReset:function(a,b){var c=x.default.getRESTController();return c.request("POST","requestPasswordReset",{email:a},b)},upgradeToRevocableSession:function(a,b){var c=a.getSessionToken();if(!c)return F.default.error(new B.default(B.default.SESSION_MISSING,"Cannot upgrade a user with no session token"));b.sessionToken=c;var d=x.default.getRESTController();return d.request("POST","upgradeToRevocableSession",{},b).then(function(b){var c=new H.default;return c._finishFetch(b),a._finishFetch({sessionToken:c.getSessionToken()}),a.isCurrent()?Q.setCurrentUser(a):F.default.as(a)})},linkWith:function(a,b){return a.save({authData:b}).then(function(){return L?Q.setCurrentUser(a):a})}};x.default.setUserController(Q)},{"./CoreManager":3,"./ParseError":13,"./ParseObject":18,"./ParsePromise":20,"./ParseSession":24,"./Storage":29,"./isRevocableSession":39,"babel-runtime/core-js/json/stringify":44,"babel-runtime/core-js/object/define-property":47,"babel-runtime/core-js/object/get-prototype-of":50,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57,"babel-runtime/helpers/get":58,"babel-runtime/helpers/inherits":59,"babel-runtime/helpers/possibleConstructorReturn":60,"babel-runtime/helpers/typeof":61}],26:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(b=b||{},a.where&&a.where instanceof k.default&&(a.where=a.where.toJSON().where),a.push_time&&"object"===(0,g.default)(a.push_time)&&(a.push_time=a.push_time.toJSON()),a.expiration_time&&"object"===(0,g.default)(a.expiration_time)&&(a.expiration_time=a.expiration_time.toJSON()),a.expiration_time&&a.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return i.default.getPushController().send(a,{useMasterKey:b.useMasterKey})._thenRunCallbacks(b)}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/helpers/typeof"),g=d(f);c.send=e;var h=a("./CoreManager"),i=d(h),j=a("./ParseQuery"),k=d(j),l={send:function(a,b){var c=i.default.getRESTController(),d=c.request("POST","push",a,{useMasterKey:!!b.useMasterKey});return d._thenRunCallbacks(b)}};i.default.setPushController(l)},{"./CoreManager":3,"./ParseQuery":21,"babel-runtime/helpers/typeof":61}],27:[function(a,b,c){(function(c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){var d=new o.default,e=new XDomainRequest;return e.onload=function(){var a;try{a=JSON.parse(e.responseText)}catch(a){d.reject(a)}a&&d.resolve(a)},e.onerror=e.ontimeout=function(){var a={responseText:(0,i.default)({code:m.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};d.reject(a)},e.onprogress=function(){},e.open(a,b),e.send(c),d}var f=a("babel-runtime/helpers/typeof"),g=d(f),h=a("babel-runtime/core-js/json/stringify"),i=d(h),j=a("./CoreManager"),k=d(j),l=a("./ParseError"),m=d(l),n=a("./ParsePromise"),o=d(n),p=a("./Storage"),q=(d(p),null);"undefined"!=typeof XMLHttpRequest&&(q=XMLHttpRequest);var r=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(r=!0);var s={ajax:function(a,b,d,f){if(r)return e(a,b,d,f);var g=new o.default,h=0;return function e(){if(null==q)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var i=!1,j=new q;j.onreadystatechange=function(){if(4===j.readyState&&!i)if(i=!0,j.status>=200&&j.status<300){var a;try{a=JSON.parse(j.responseText)}catch(a){g.reject(a.toString())}a&&g.resolve(a,j.status,j)}else if(j.status>=500||0===j.status)if(++h<k.default.get("REQUEST_ATTEMPT_LIMIT")){var b=Math.round(125*Math.random()*Math.pow(2,h));setTimeout(e,b)}else 0===j.status?g.reject("Unable to connect to the Parse API"):g.reject(j);else g.reject(j)},f=f||{},"string"!=typeof f["Content-Type"]&&(f["Content-Type"]="text/plain"),k.default.get("IS_NODE")&&(f["User-Agent"]="Parse/"+k.default.get("VERSION")+" (NodeJS "+c.versions.node+")"),j.open(a,b,!0);for(var l in f)j.setRequestHeader(l,f[l]);j.send(d)}(),g},request:function(a,b,c,d){d=d||{};var e=k.default.get("SERVER_URL");"/"!==e[e.length-1]&&(e+="/"),e+=b;var f={};if(c&&"object"===("undefined"==typeof c?"undefined":(0,g.default)(c)))for(var h in c)f[h]=c[h];"POST"!==a&&(f._method=a,a="POST"),f._ApplicationId=k.default.get("APPLICATION_ID");var j=k.default.get("JAVASCRIPT_KEY");j&&(f._JavaScriptKey=j),f._ClientVersion=k.default.get("VERSION");var l=d.useMasterKey;if("undefined"==typeof l&&(l=k.default.get("USE_MASTER_KEY")),l){if(!k.default.get("MASTER_KEY"))throw new Error("Cannot use the Master Key, it has not been provided.");delete f._JavaScriptKey,f._MasterKey=k.default.get("MASTER_KEY")}k.default.get("FORCE_REVOCABLE_SESSION")&&(f._RevocableSession="1");var n,p=d.installationId;if(p&&"string"==typeof p)n=o.default.as(p);else{var q=k.default.getInstallationController();n=q.currentInstallationId()}return n.then(function(a){f._InstallationId=a;var b=k.default.getUserController();return d&&"string"==typeof d.sessionToken?o.default.as(d.sessionToken):b?b.currentUserAsync().then(function(a){return a?o.default.as(a.getSessionToken()):o.default.as(null)}):o.default.as(null)}).then(function(b){b&&(f._SessionToken=b);var c=(0,i.default)(f);return s.ajax(a,e,c)}).then(null,function(a){var b;if(a&&a.responseText)try{var c=JSON.parse(a.responseText);b=new m.default(c.code,c.error)}catch(c){b=new m.default(m.default.INVALID_JSON,"Received an error with invalid JSON from Parse: "+a.responseText)}else b=new m.default(m.default.CONNECTION_FAILED,"XMLHttpRequest failed: "+(0,i.default)(a));return o.default.error(b)})},_setXHR:function(a){q=a}};b.exports=s}).call(this,a("_process"))},{"./CoreManager":3,"./ParseError":13,"./ParsePromise":20,"./Storage":29,_process:168,"babel-runtime/core-js/json/stringify":44,"babel-runtime/helpers/typeof":61}],28:[function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){var b=x[a.className];return b?b[a.id]||null:null}function f(a,b){var c=e(a);return c?c:(x[a.className]||(x[a.className]={}),b||(b=w.defaultState()),c=x[a.className][a.id]=b)}function g(a){var b=e(a);return null===b?null:(delete x[a.className][a.id],b)}function h(a){var b=e(a);return b?b.serverData:{}}function i(a,b){var c=f(a).serverData;w.setServerData(c,b)}function j(a){var b=e(a);return b?b.pendingOps:[{}]}function k(a,b,c){var d=f(a).pendingOps;w.setPendingOp(d,b,c)}function l(a){var b=f(a).pendingOps;w.pushPendingState(b)}function m(a){var b=f(a).pendingOps;return w.popPendingState(b)}function n(a){var b=j(a);w.mergeFirstPendingState(b)}function o(a){var b=e(a);return b?b.objectCache:{}}function p(a,b){var c=h(a),d=j(a);return w.estimateAttribute(c,d,a.className,a.id,b)}function q(a){var b=h(a),c=j(a);return w.estimateAttributes(b,c,a.className,a.id)}function r(a,b){var c=f(a);w.commitServerChanges(c.serverData,c.objectCache,b)}function s(a,b){var c=f(a);return c.tasks.enqueue(b)}function t(){x={}}function u(a,b){b.id=a.id}Object.defineProperty(c,"__esModule",{value:!0}),c.getState=e,c.initializeState=f,c.removeState=g,c.getServerData=h,c.setServerData=i,c.getPendingOps=j,c.setPendingOp=k,c.pushPendingState=l,c.popPendingState=m,c.mergeFirstPendingState=n,c.getObjectCache=o,c.estimateAttribute=p,c.estimateAttributes=q,c.commitServerChanges=r,c.enqueueTask=s,c.clearAllState=t,c.duplicateState=u;var v=a("./ObjectStateMutations"),w=d(v),x={}},{"./ObjectStateMutations":9}],29:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}var e=a("./CoreManager"),f=d(e),g=a("./ParsePromise"),h=d(g);b.exports={async:function(){var a=f.default.getStorageController();return!!a.async},getItem:function(a){var b=f.default.getStorageController();if(1===b.async)throw new Error("Synchronous storage is not supported by the current storage controller");return b.getItem(a)},getItemAsync:function(a){var b=f.default.getStorageController();return 1===b.async?b.getItemAsync(a):h.default.as(b.getItem(a))},setItem:function(a,b){var c=f.default.getStorageController();if(1===c.async)throw new Error("Synchronous storage is not supported by the current storage controller");return c.setItem(a,b)},setItemAsync:function(a,b){var c=f.default.getStorageController();return 1===c.async?c.setItemAsync(a,b):h.default.as(c.setItem(a,b))},removeItem:function(a){var b=f.default.getStorageController();if(1===b.async)throw new Error("Synchronous storage is not supported by the current storage controller");return b.removeItem(a)},removeItemAsync:function(a){var b=f.default.getStorageController();return 1===b.async?b.removeItemAsync(a):h.default.as(b.removeItem(a))},generatePath:function(a){if(!f.default.get("APPLICATION_ID"))throw new Error("You need to call Parse.initialize before using Parse.");if("string"!=typeof a)throw new Error("Tried to get a Storage path that was not a String.");return"/"===a[0]&&(a=a.substr(1)),"Parse/"+f.default.get("APPLICATION_ID")+"/"+a},_clear:function(){var a=f.default.getStorageController();a.hasOwnProperty("clear")&&a.clear()}},f.default.setStorageController(a("./StorageController.browser"))},{"./CoreManager":3,"./ParsePromise":20,"./StorageController.browser":30}],30:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}var e=a("./ParsePromise"),f=(d(e),{async:0,getItem:function(a){return localStorage.getItem(a)},setItem:function(a,b){try{localStorage.setItem(a,b)}catch(a){}},removeItem:function(a){localStorage.removeItem(a)},clear:function(){localStorage.clear()}});b.exports=f},{"./ParsePromise":20}],31:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}var e=a("babel-runtime/helpers/classCallCheck"),f=d(e),g=a("babel-runtime/helpers/createClass"),h=d(g),i=a("./ParsePromise"),j=d(i),k=function(){function a(){(0,f.default)(this,a),this.queue=[]}return(0,h.default)(a,[{key:"enqueue",value:function(a){var b=this,c=new j.default;return this.queue.push({task:a,_completion:c}),1===this.queue.length&&a().then(function(){b._dequeue(),c.resolve()},function(a){b._dequeue(),c.reject(a)}),c}},{key:"_dequeue",value:function(){var a=this;if(this.queue.shift(),this.queue.length){var b=this.queue[0];b.task().then(function(){a._dequeue(),b._completion.resolve()},function(c){a._dequeue(),b._completion.reject(c)})}}}]),a}();b.exports=k},{"./ParsePromise":20,"babel-runtime/helpers/classCallCheck":56,"babel-runtime/helpers/createClass":57}],32:[function(a,b,c){function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}function f(a){var b=C.get(a);return b||null}function g(a,b){var c=f(a);return c?c:(b||(b={serverData:{},pendingOps:[{}],objectCache:{},tasks:new B.default,existed:!1}),c=b,C.set(a,c),c)}function h(a){var b=f(a);return null===b?null:(C.delete(a),b)}function i(a){var b=f(a);return b?b.serverData:{}}function j(a,b){var c=g(a).serverData;z.setServerData(c,b)}function k(a){var b=f(a);return b?b.pendingOps:[{}]}function l(a,b,c){var d=g(a).pendingOps;z.setPendingOp(d,b,c)}function m(a){var b=g(a).pendingOps;z.pushPendingState(b)}function n(a){var b=g(a).pendingOps;return z.popPendingState(b)}function o(a){var b=k(a);z.mergeFirstPendingState(b)}function p(a){var b=f(a);return b?b.objectCache:{}}function q(a,b){var c=i(a),d=k(a);return z.estimateAttribute(c,d,a.className,a.id,b)}function r(a){var b=i(a),c=k(a);return z.estimateAttributes(b,c,a.className,a.id)}function s(a,b){var c=g(a);z.commitServerChanges(c.serverData,c.objectCache,b)}function t(a,b){var c=g(a);return c.tasks.enqueue(b)}function u(a,b){var c=g(a),d=g(b);for(var e in c.serverData)d.serverData[e]=c.serverData[e];for(var f=0;f<c.pendingOps.length;f++)for(var h in c.pendingOps[f])d.pendingOps[f][h]=c.pendingOps[f][h];for(var i in c.objectCache)d.objectCache[i]=c.objectCache[i];d.existed=c.existed}function v(){C=new x.default}Object.defineProperty(c,"__esModule",{value:!0});var w=a("babel-runtime/core-js/weak-map"),x=e(w);c.getState=f,c.initializeState=g,c.removeState=h,c.getServerData=i,c.setServerData=j,c.getPendingOps=k,c.setPendingOp=l,c.pushPendingState=m,c.popPendingState=n,c.mergeFirstPendingState=o,c.getObjectCache=p,c.estimateAttribute=q,c.estimateAttributes=r,c.commitServerChanges=s,c.enqueueTask=t,c.duplicateState=u,c.clearAllState=v;var y=a("./ObjectStateMutations"),z=d(y),A=a("./TaskQueue"),B=e(A),C=new x.default},{"./ObjectStateMutations":9,"./TaskQueue":31,"babel-runtime/core-js/weak-map":55}],33:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(a.indexOf(b)>-1)return!0;for(var c=0;c<a.length;c++)if(a[c]instanceof g.default&&a[c].className===b.className&&a[c]._getId()===b._getId())return!0;return!1}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("./ParseObject"),g=d(f)},{"./ParseObject":18}],34:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(!(a instanceof l.default))return!0;var b=a.attributes;for(var c in b){var d=b[c];if(!f(d))return!1}return!0}function f(a){if("object"!==("undefined"==typeof a?"undefined":(0,h.default)(a)))return!0;if(a instanceof n.default)return!0;if(a instanceof l.default)return!!a.id;if(a instanceof j.default)return!!a.url();if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(!f(a[b]))return!1;return!0}for(var c in a)if(!f(a[c]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/helpers/typeof"),h=d(g);c.default=e;var i=a("./ParseFile"),j=d(i),k=a("./ParseObject"),l=d(k),m=a("./ParseRelation"),n=d(m)},{"./ParseFile":14,"./ParseObject":18,"./ParseRelation":22,"babel-runtime/helpers/typeof":61}],35:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(null===a||"object"!==("undefined"==typeof a?"undefined":(0,g.default)(a)))return a;if(Array.isArray(a)){var b=[];return a.forEach(function(a,c){b[c]=e(a)}),b}if("string"==typeof a.__op)return(0,o.opFromJSON)(a);if("Pointer"===a.__type&&a.className)return n.default.fromJSON(a);if("Object"===a.__type&&a.className)return n.default.fromJSON(a);if("Relation"===a.__type){var c=new q.default(null,null);return c.targetClassName=a.className,c}if("Date"===a.__type)return new Date(a.iso);if("File"===a.__type)return j.default.fromJSON(a);if("GeoPoint"===a.__type)return new l.default({latitude:a.latitude,longitude:a.longitude});var d={};for(var f in a)d[f]=e(a[f]);return d}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/helpers/typeof"),g=d(f);c.default=e;var h=a("./ParseACL"),i=(d(h),a("./ParseFile")),j=d(i),k=a("./ParseGeoPoint"),l=d(k),m=a("./ParseObject"),n=d(m),o=a("./ParseOp"),p=a("./ParseRelation"),q=d(p)},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"./ParseOp":19,"./ParseRelation":22,"babel-runtime/helpers/typeof":61}],36:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){if(a instanceof q.default){if(b)throw new Error("Parse Objects not allowed here");var f=a.id?a.className+":"+a.id:a;return c||!d||d.indexOf(f)>-1||a.dirty()||(0,i.default)(a._getServerData()).length<1?a.toPointer():(d=d.concat(f),a._toFullJSON(d))}if(a instanceof r.Op||a instanceof k.default||a instanceof o.default||a instanceof t.default)return a.toJSON();if(a instanceof m.default){if(!a.url())throw new Error("Tried to encode an unsaved file.");return a.toJSON()}if("[object Date]"===u.call(a)){if(isNaN(a))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:a.toJSON()}}if("[object RegExp]"===u.call(a)&&"string"==typeof a.source)return a.source;if(Array.isArray(a))return a.map(function(a){return e(a,b,c,d)});if(a&&"object"===("undefined"==typeof a?"undefined":(0,g.default)(a))){var h={};for(var j in a)h[j]=e(a[j],b,c,d);return h}return a}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/helpers/typeof"),g=d(f),h=a("babel-runtime/core-js/object/keys"),i=d(h);c.default=function(a,b,c,d){return e(a,!!b,!!c,d||[])};var j=a("./ParseACL"),k=d(j),l=a("./ParseFile"),m=d(l),n=a("./ParseGeoPoint"),o=d(n),p=a("./ParseObject"),q=d(p),r=a("./ParseOp"),s=a("./ParseRelation"),t=d(s),u=Object.prototype.toString},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"./ParseOp":19,"./ParseRelation":22,"babel-runtime/core-js/object/keys":51,"babel-runtime/helpers/typeof":61}],37:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(("undefined"==typeof a?"undefined":(0,i.default)(a))!==("undefined"==typeof b?"undefined":(0,i.default)(b)))return!1;if(!a||"object"!==("undefined"==typeof a?"undefined":(0,i.default)(a)))return a===b;if(Array.isArray(a)||Array.isArray(b)){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=a.length;c--;)if(!e(a[c],b[c]))return!1;return!0}if(a instanceof k.default||a instanceof m.default||a instanceof o.default||a instanceof q.default)return a.equals(b);if((0,g.default)(a).length!==(0,g.default)(b).length)return!1;for(var d in a)if(!e(a[d],b[d]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0});var f=a("babel-runtime/core-js/object/keys"),g=d(f),h=a("babel-runtime/helpers/typeof"),i=d(h);c.default=e;var j=a("./ParseACL"),k=d(j),l=a("./ParseFile"),m=d(l),n=a("./ParseGeoPoint"),o=d(n),p=a("./ParseObject"),q=d(p)},{"./ParseACL":11,"./ParseFile":14,"./ParseGeoPoint":15,"./ParseObject":18,"babel-runtime/core-js/object/keys":51,"babel-runtime/helpers/typeof":61}],38:[function(a,b,c){function d(a){return a.replace(/[&<>\/'"]/g,function(a){return e[a]})}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d;var e={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},{}],39:[function(a,b,c){function d(a){return a.indexOf("r:")>-1}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d},{}],40:[function(a,b,c){function d(a){var b=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),c=b.exec(a);if(!c)return null;var d=c[1]||0,e=(c[2]||1)-1,f=c[3]||0,g=c[4]||0,h=c[5]||0,i=c[6]||0,j=c[8]||0;return new Date(Date.UTC(d,e,f,g,h,i,j))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d},{}],41:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=[];return a.forEach(function(a){a instanceof i.default?(0,g.default)(b,a)||b.push(a):b.indexOf(a)<0&&b.push(a)}),b}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("./arrayContainsObject"),g=d(f),h=a("./ParseObject"),i=d(h)},{"./ParseObject":18,"./arrayContainsObject":33}],42:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c={objects:{},files:[]},d=a.className+":"+a._getId();c.objects[d]=!a.dirty()||a;var e=a.attributes;for(var g in e)"object"===(0,h.default)(e[g])&&f(e[g],c,!1,!!b);var i=[];for(var j in c.objects)j!==d&&c.objects[j]!==!0&&i.push(c.objects[j]);return i.concat(c.files)}function f(a,b,c,d){if(a instanceof l.default){if(!a.id&&c)throw new Error("Cannot create a pointer to an unsaved Object.");var e=a.className+":"+a._getId();if(!b.objects[e]){b.objects[e]=!a.dirty()||a;var g=a.attributes;for(var i in g)"object"===(0,h.default)(g[i])&&f(g[i],b,!d,d)}}else{if(a instanceof j.default)return void(!a.url()&&b.files.indexOf(a)<0&&b.files.push(a));if(!(a instanceof n.default)){Array.isArray(a)&&a.forEach(function(a){"object"===("undefined"==typeof a?"undefined":(0,h.default)(a))&&f(a,b,c,d)});for(var k in a)"object"===(0,h.default)(a[k])&&f(a[k],b,c,d)}}}Object.defineProperty(c,"__esModule",{value:!0});var g=a("babel-runtime/helpers/typeof"),h=d(g);c.default=e;var i=a("./ParseFile"),j=d(i),k=a("./ParseObject"),l=d(k),m=a("./ParseRelation"),n=d(m)},{"./ParseFile":14,"./ParseObject":18,"./ParseRelation":22,"babel-runtime/helpers/typeof":61}],43:[function(a,b,c){b.exports={default:a("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":62}],44:[function(a,b,c){b.exports={default:a("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":63}],45:[function(a,b,c){b.exports={default:a("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":64}],46:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":65
}],47:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":66}],48:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/freeze"),__esModule:!0}},{"core-js/library/fn/object/freeze":67}],49:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":68}],50:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":69}],51:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":70}],52:[function(a,b,c){b.exports={default:a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":71}],53:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":72}],54:[function(a,b,c){b.exports={default:a("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":73}],55:[function(a,b,c){b.exports={default:a("core-js/library/fn/weak-map"),__esModule:!0}},{"core-js/library/fn/weak-map":74}],56:[function(a,b,c){c.__esModule=!0,c.default=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}},{}],57:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/object/define-property"),f=d(e);c.default=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),(0,f.default)(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}()},{"../core-js/object/define-property":47}],58:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/object/get-prototype-of"),f=d(e),g=a("../core-js/object/get-own-property-descriptor"),h=d(g);c.default=function a(b,c,d){null===b&&(b=Function.prototype);var e=(0,h.default)(b,c);if(void 0===e){var g=(0,f.default)(b);return null===g?void 0:a(g,c,d)}if("value"in e)return e.value;var i=e.get;if(void 0!==i)return i.call(d)}},{"../core-js/object/get-own-property-descriptor":49,"../core-js/object/get-prototype-of":50}],59:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/object/set-prototype-of"),f=d(e),g=a("../core-js/object/create"),h=d(g),i=a("../helpers/typeof"),j=d(i);c.default=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":(0,j.default)(b)));a.prototype=(0,h.default)(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(f.default?(0,f.default)(a,b):a.__proto__=b)}},{"../core-js/object/create":46,"../core-js/object/set-prototype-of":52,"../helpers/typeof":61}],60:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../helpers/typeof"),f=d(e);c.default=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":(0,f.default)(b))&&"function"!=typeof b?a:b}},{"../helpers/typeof":61}],61:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}c.__esModule=!0;var e=a("../core-js/symbol/iterator"),f=d(e),g=a("../core-js/symbol"),h=d(g),i="function"==typeof h.default&&"symbol"==typeof f.default?function(a){return typeof a}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default?"symbol":typeof a};c.default="function"==typeof h.default&&"symbol"===i(f.default)?function(a){return"undefined"==typeof a?"undefined":i(a)}:function(a){return a&&"function"==typeof h.default&&a.constructor===h.default?"symbol":"undefined"==typeof a?"undefined":i(a)}},{"../core-js/symbol":53,"../core-js/symbol/iterator":54}],62:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.get-iterator")},{"../modules/core.get-iterator":150,"../modules/es6.string.iterator":161,"../modules/web.dom.iterable":167}],63:[function(a,b,c){var d=a("../../modules/_core"),e=d.JSON||(d.JSON={stringify:JSON.stringify});b.exports=function(a){return e.stringify.apply(e,arguments)}},{"../../modules/_core":90}],64:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.map"),a("../modules/es7.map.to-json"),b.exports=a("../modules/_core").Map},{"../modules/_core":90,"../modules/es6.map":152,"../modules/es6.object.to-string":160,"../modules/es6.string.iterator":161,"../modules/es7.map.to-json":164,"../modules/web.dom.iterable":167}],65:[function(a,b,c){a("../../modules/es6.object.create");var d=a("../../modules/_core").Object;b.exports=function(a,b){return d.create(a,b)}},{"../../modules/_core":90,"../../modules/es6.object.create":153}],66:[function(a,b,c){a("../../modules/es6.object.define-property");var d=a("../../modules/_core").Object;b.exports=function(a,b,c){return d.defineProperty(a,b,c)}},{"../../modules/_core":90,"../../modules/es6.object.define-property":154}],67:[function(a,b,c){a("../../modules/es6.object.freeze"),b.exports=a("../../modules/_core").Object.freeze},{"../../modules/_core":90,"../../modules/es6.object.freeze":155}],68:[function(a,b,c){a("../../modules/es6.object.get-own-property-descriptor");var d=a("../../modules/_core").Object;b.exports=function(a,b){return d.getOwnPropertyDescriptor(a,b)}},{"../../modules/_core":90,"../../modules/es6.object.get-own-property-descriptor":156}],69:[function(a,b,c){a("../../modules/es6.object.get-prototype-of"),b.exports=a("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":90,"../../modules/es6.object.get-prototype-of":157}],70:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/_core").Object.keys},{"../../modules/_core":90,"../../modules/es6.object.keys":158}],71:[function(a,b,c){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":90,"../../modules/es6.object.set-prototype-of":159}],72:[function(a,b,c){a("../../modules/es6.symbol"),a("../../modules/es6.object.to-string"),a("../../modules/es7.symbol.async-iterator"),a("../../modules/es7.symbol.observable"),b.exports=a("../../modules/_core").Symbol},{"../../modules/_core":90,"../../modules/es6.object.to-string":160,"../../modules/es6.symbol":162,"../../modules/es7.symbol.async-iterator":165,"../../modules/es7.symbol.observable":166}],73:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/web.dom.iterable"),b.exports=a("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":147,"../../modules/es6.string.iterator":161,"../../modules/web.dom.iterable":167}],74:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/web.dom.iterable"),a("../modules/es6.weak-map"),b.exports=a("../modules/_core").WeakMap},{"../modules/_core":90,"../modules/es6.object.to-string":160,"../modules/es6.weak-map":163,"../modules/web.dom.iterable":167}],75:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],76:[function(a,b,c){b.exports=function(){}},{}],77:[function(a,b,c){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],78:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":108}],79:[function(a,b,c){var d=a("./_for-of");b.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},{"./_for-of":99}],80:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_to-length"),f=a("./_to-index");b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{"./_to-index":139,"./_to-iobject":141,"./_to-length":142}],81:[function(a,b,c){var d=a("./_ctx"),e=a("./_iobject"),f=a("./_to-object"),g=a("./_to-length"),h=a("./_array-species-create");b.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},{"./_array-species-create":83,"./_ctx":91,"./_iobject":105,"./_to-length":142,"./_to-object":143}],82:[function(a,b,c){var d=a("./_is-object"),e=a("./_is-array"),f=a("./_wks")("species");b.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},{"./_is-array":107,"./_is-object":108,"./_wks":148}],83:[function(a,b,c){var d=a("./_array-species-constructor");b.exports=function(a,b){return new(d(a))(b)}},{"./_array-species-constructor":82}],84:[function(a,b,c){var d=a("./_cof"),e=a("./_wks")("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};b.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},{"./_cof":85,"./_wks":148}],85:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],86:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_object-create"),f=a("./_redefine-all"),g=a("./_ctx"),h=a("./_an-instance"),i=a("./_defined"),j=a("./_for-of"),k=a("./_iter-define"),l=a("./_iter-step"),m=a("./_set-species"),n=a("./_descriptors"),o=a("./_meta").fastKey,p=n?"_s":"size",q=function(a,b){var c,d=o(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(a,b,c,k){var l=a(function(a,d){h(a,l,b,"_i"),a._i=e(null),a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&j(d,c,a[k],a)});return f(l.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[p]=0},delete:function(a){var b=this,c=q(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[p]--}return!!c},forEach:function(a){h(this,l,"forEach");for(var b,c=g(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){return!!q(this,a)}}),n&&d(l.prototype,"size",{get:function(){return i(this[p])}}),l},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=o(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){k(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?l(0,c.k):"values"==b?l(0,c.v):l(0,[c.k,c.v]):(a._t=void 0,l(1))},c?"entries":"values",!c,!0),m(b)}}},{"./_an-instance":77,"./_ctx":91,"./_defined":92,"./_descriptors":93,"./_for-of":99,"./_iter-define":111,"./_iter-step":112,"./_meta":116,"./_object-create":118,"./_object-dp":119,"./_redefine-all":131,"./_set-species":134}],87:[function(a,b,c){var d=a("./_classof"),e=a("./_array-from-iterable");b.exports=function(a){return function(){if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},{"./_array-from-iterable":79,"./_classof":84}],88:[function(a,b,c){var d=a("./_redefine-all"),e=a("./_meta").getWeak,f=a("./_an-object"),g=a("./_is-object"),h=a("./_an-instance"),i=a("./_for-of"),j=a("./_array-methods"),k=a("./_has"),l=j(5),m=j(6),n=0,o=function(a){return a._l||(a._l=new p)},p=function(){this.a=[]},q=function(a,b){return l(a.a,function(a){return a[0]===b})};p.prototype={get:function(a){var b=q(this,a);if(b)return b[1]},has:function(a){return!!q(this,a)},set:function(a,b){var c=q(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=m(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},b.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._i=n++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).delete(a):b&&k(b,this._i)&&delete b[this._i]},has:function(a){if(!g(a))return!1;var b=e(a);return b===!0?o(this).has(a):b&&k(b,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return d===!0?o(a).set(b,c):d[a._i]=c,a},ufstore:o}},{"./_an-instance":77,"./_an-object":78,"./_array-methods":81,"./_for-of":99,"./_has":101,"./_is-object":108,"./_meta":116,"./_redefine-all":131}],89:[function(a,b,c){var d=a("./_global"),e=a("./_export"),f=a("./_meta"),g=a("./_fails"),h=a("./_hide"),i=a("./_redefine-all"),j=a("./_for-of"),k=a("./_an-instance"),l=a("./_is-object"),m=a("./_set-to-string-tag"),n=a("./_object-dp").f,o=a("./_array-methods")(0),p=a("./_descriptors");b.exports=function(a,b,c,q,r,s){var t=d[a],u=t,v=r?"set":"add",w=u&&u.prototype,x={};return p&&"function"==typeof u&&(s||w.forEach&&!g(function(){(new u).entries().next()}))?(u=b(function(b,c){k(b,u,a,"_c"),b._c=new t,void 0!=c&&j(c,r,b[v],b)}),o("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(a){var b="add"==a||"set"==a;a in w&&(!s||"clear"!=a)&&h(u.prototype,a,function(c,d){if(k(this,u,a),!b&&s&&!l(c))return"get"==a&&void 0;var e=this._c[a](0===c?0:c,d);return b?this:e})}),"size"in w&&n(u.prototype,"size",{get:function(){return this._c.size}})):(u=q.getConstructor(b,a,r,v),i(u.prototype,c),f.NEED=!0),m(u,a),x[a]=u,e(e.G+e.W+e.F,x),s||q.setStrong(u,a,r),u}},{"./_an-instance":77,"./_array-methods":81,"./_descriptors":93,"./_export":97,"./_fails":98,"./_for-of":99,"./_global":100,"./_hide":102,"./_is-object":108,"./_meta":116,"./_object-dp":119,"./_redefine-all":131,"./_set-to-string-tag":135}],90:[function(a,b,c){var d=b.exports={version:"2.4.0"};"number"==typeof __e&&(__e=d)},{}],91:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":75}],92:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],93:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":98}],94:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":100,"./_is-object":108}],95:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],96:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie");b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":124,"./_object-keys":127,"./_object-pie":128}],97:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_ctx"),g=a("./_hide"),h="prototype",i=function(a,b,c){var j,k,l,m=a&i.F,n=a&i.G,o=a&i.S,p=a&i.P,q=a&i.B,r=a&i.W,s=n?e:e[b]||(e[b]={}),t=s[h],u=n?d:o?d[b]:(d[b]||{})[h];n&&(c=b);for(j in c)k=!m&&u&&void 0!==u[j],k&&j in s||(l=k?u[j]:c[j],s[j]=n&&"function"!=typeof u[j]?c[j]:q&&k?f(l,d):r&&u[j]==l?function(a){var b=function(b,c,d){if(this instanceof a){switch(arguments.length){case 0:return new a;case 1:return new a(b);case 2:return new a(b,c)}return new a(b,c,d)}return a.apply(this,arguments)};return b[h]=a[h],b}(l):p&&"function"==typeof l?f(Function.call,l):l,p&&((s.virtual||(s.virtual={}))[j]=l,a&i.R&&t&&!t[j]&&g(t,j,l)))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,b.exports=i},{"./_core":90,"./_ctx":91,"./_global":100,"./_hide":102}],98:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],99:[function(a,b,c){var d=a("./_ctx"),e=a("./_iter-call"),f=a("./_is-array-iter"),g=a("./_an-object"),h=a("./_to-length"),i=a("./core.get-iterator-method"),j={},k={},c=b.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};c.BREAK=j,c.RETURN=k},{"./_an-object":78,"./_ctx":91,"./_is-array-iter":106,"./_iter-call":109,"./_to-length":142,"./core.get-iterator-method":149}],100:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],101:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],102:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":93,"./_object-dp":119,"./_property-desc":130}],103:[function(a,b,c){b.exports=a("./_global").document&&document.documentElement},{"./_global":100}],104:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":93,"./_dom-create":94,"./_fails":98}],105:[function(a,b,c){var d=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./_cof":85}],106:[function(a,b,c){var d=a("./_iterators"),e=a("./_wks")("iterator"),f=Array.prototype;b.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},{"./_iterators":113,"./_wks":148}],107:[function(a,b,c){var d=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./_cof":85}],108:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],109:[function(a,b,c){var d=a("./_an-object");b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},{"./_an-object":78}],110:[function(a,b,c){var d=a("./_object-create"),e=a("./_property-desc"),f=a("./_set-to-string-tag"),g={};a("./_hide")(g,a("./_wks")("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},{"./_hide":102,"./_object-create":118,"./_property-desc":130,"./_set-to-string-tag":135,"./_wks":148}],111:[function(a,b,c){var d=a("./_library"),e=a("./_export"),f=a("./_redefine"),g=a("./_hide"),h=a("./_has"),i=a("./_iterators"),j=a("./_iter-create"),k=a("./_set-to-string-tag"),l=a("./_object-gpo"),m=a("./_wks")("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};b.exports=function(a,b,c,s,t,u,v){j(c,b,s);var w,x,y,z=function(a){if(!n&&a in D)return D[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){return new c(this,a)}},A=b+" Iterator",B=t==q,C=!1,D=a.prototype,E=D[m]||D[o]||t&&D[t],F=E||z(t),G=t?B?z("entries"):F:void 0,H="Array"==b?D.entries||E:E;if(H&&(y=l(H.call(new a)),y!==Object.prototype&&(k(y,A,!0),d||h(y,m)||g(y,m,r))),B&&E&&E.name!==q&&(C=!0,F=function(){return E.call(this)}),d&&!v||!n&&!C&&D[m]||g(D,m,F),i[b]=F,i[A]=r,t)if(w={values:B?F:z(q),keys:u?F:z(p),entries:G},v)for(x in w)x in D||f(D,x,w[x]);else e(e.P+e.F*(n||C),b,w);return w}},{"./_export":97,"./_has":101,"./_hide":102,"./_iter-create":110,"./_iterators":113,"./_library":115,"./_object-gpo":125,"./_redefine":132,"./_set-to-string-tag":135,"./_wks":148}],112:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],113:[function(a,b,c){b.exports={}},{}],114:[function(a,b,c){var d=a("./_object-keys"),e=a("./_to-iobject");b.exports=function(a,b){for(var c,f=e(a),g=d(f),h=g.length,i=0;h>i;)if(f[c=g[i++]]===b)return c}},{"./_object-keys":127,"./_to-iobject":141}],115:[function(a,b,c){b.exports=!0},{}],116:[function(a,b,c){var d=a("./_uid")("meta"),e=a("./_is-object"),f=a("./_has"),g=a("./_object-dp").f,h=0,i=Object.isExtensible||function(){return!0},j=!a("./_fails")(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},{"./_fails":98,"./_has":101,"./_is-object":108,"./_object-dp":119,"./_uid":145}],117:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie"),g=a("./_to-object"),h=a("./_iobject"),i=Object.assign;b.exports=!i||a("./_fails")(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},{"./_fails":98,"./_iobject":105,"./_object-gops":124,"./_object-keys":127,"./_object-pie":128,"./_to-object":143}],118:[function(a,b,c){var d=a("./_an-object"),e=a("./_object-dps"),f=a("./_enum-bug-keys"),g=a("./_shared-key")("IE_PROTO"),h=function(){},i="prototype",j=function(){var b,c=a("./_dom-create")("iframe"),d=f.length,e="<",g=">";for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write(e+"script"+g+"document.F=Object"+e+"/script"+g),b.close(),j=b.F;d--;)delete j[i][f[d]];return j()};b.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},{"./_an-object":78,"./_dom-create":94,"./_enum-bug-keys":95,"./_html":103,"./_object-dps":120,"./_shared-key":136}],119:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":78,"./_descriptors":93,"./_ie8-dom-define":104,"./_to-primitive":144}],120:[function(a,b,c){var d=a("./_object-dp"),e=a("./_an-object"),f=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{"./_an-object":78,"./_descriptors":93,"./_object-dp":119,"./_object-keys":127}],121:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{"./_descriptors":93,"./_has":101,"./_ie8-dom-define":104,"./_object-pie":128,"./_property-desc":130,"./_to-iobject":141,"./_to-primitive":144}],122:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopn").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./_object-gopn":123,"./_to-iobject":141}],123:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":95,"./_object-keys-internal":126}],124:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],125:[function(a,b,c){var d=a("./_has"),e=a("./_to-object"),f=a("./_shared-key")("IE_PROTO"),g=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},{"./_has":101,"./_shared-key":136,"./_to-object":143}],126:[function(a,b,c){var d=a("./_has"),e=a("./_to-iobject"),f=a("./_array-includes")(!1),g=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},{"./_array-includes":80,"./_has":101,"./_shared-key":136,"./_to-iobject":141}],127:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return d(a,e)}},{"./_enum-bug-keys":95,"./_object-keys-internal":126}],128:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],129:[function(a,b,c){var d=a("./_export"),e=a("./_core"),f=a("./_fails");b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{"./_core":90,"./_export":97,"./_fails":98}],130:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],131:[function(a,b,c){var d=a("./_hide");b.exports=function(a,b,c){for(var e in b)c&&a[e]?a[e]=b[e]:d(a,e,b[e]);return a}},{"./_hide":102}],132:[function(a,b,c){b.exports=a("./_hide")},{"./_hide":102}],133:[function(a,b,c){var d=a("./_is-object"),e=a("./_an-object"),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a("./_ctx")(Function.call,a("./_object-gopd").f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(a){c=!0}return function(a,b){return f(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:f}},{"./_an-object":78,"./_ctx":91,"./_is-object":108,"./_object-gopd":121}],134:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_object-dp"),g=a("./_descriptors"),h=a("./_wks")("species");b.exports=function(a){var b="function"==typeof e[a]?e[a]:d[a];g&&b&&!b[h]&&f.f(b,h,{configurable:!0,get:function(){return this}})}},{"./_core":90,"./_descriptors":93,"./_global":100,"./_object-dp":119,"./_wks":148}],135:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_has"),f=a("./_wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./_has":101,"./_object-dp":119,"./_wks":148}],136:[function(a,b,c){var d=a("./_shared")("keys"),e=a("./_uid");b.exports=function(a){return d[a]||(d[a]=e(a))}},{"./_shared":137,"./_uid":145}],137:[function(a,b,c){var d=a("./_global"),e="__core-js_shared__",f=d[e]||(d[e]={});b.exports=function(a){return f[a]||(f[a]={})}},{"./_global":100}],138:[function(a,b,c){var d=a("./_to-integer"),e=a("./_defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{"./_defined":92,"./_to-integer":140}],139:[function(a,b,c){var d=a("./_to-integer"),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{"./_to-integer":140}],140:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],141:[function(a,b,c){var d=a("./_iobject"),e=a("./_defined");b.exports=function(a){return d(e(a))}},{"./_defined":92,"./_iobject":105}],142:[function(a,b,c){var d=a("./_to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./_to-integer":140}],143:[function(a,b,c){var d=a("./_defined");b.exports=function(a){return Object(d(a))}},{"./_defined":92}],144:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":108}],145:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],146:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_library"),g=a("./_wks-ext"),h=a("./_object-dp").f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},{"./_core":90,"./_global":100,"./_library":115,"./_object-dp":119,"./_wks-ext":147}],147:[function(a,b,c){c.f=a("./_wks")},{"./_wks":148}],148:[function(a,b,c){var d=a("./_shared")("wks"),e=a("./_uid"),f=a("./_global").Symbol,g="function"==typeof f,h=b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},{"./_global":100,"./_shared":137,"./_uid":145}],149:[function(a,b,c){var d=a("./_classof"),e=a("./_wks")("iterator"),f=a("./_iterators");b.exports=a("./_core").getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},{"./_classof":84,"./_core":90,"./_iterators":113,"./_wks":148}],150:[function(a,b,c){var d=a("./_an-object"),e=a("./core.get-iterator-method");b.exports=a("./_core").getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},{"./_an-object":78,"./_core":90,"./core.get-iterator-method":149}],151:[function(a,b,c){var d=a("./_add-to-unscopables"),e=a("./_iter-step"),f=a("./_iterators"),g=a("./_to-iobject");b.exports=a("./_iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./_add-to-unscopables":76,"./_iter-define":111,"./_iter-step":112,"./_iterators":113,"./_to-iobject":141}],152:[function(a,b,c){var d=a("./_collection-strong");b.exports=a("./_collection")("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(this,a);return b&&b.v},set:function(a,b){return d.def(this,0===a?0:a,b)}},d,!0)},{"./_collection":89,"./_collection-strong":86}],153:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{create:a("./_object-create")})},{"./_export":97,"./_object-create":118}],154:[function(a,b,c){var d=a("./_export");d(d.S+d.F*!a("./_descriptors"),"Object",{defineProperty:a("./_object-dp").f})},{"./_descriptors":93,"./_export":97,"./_object-dp":119}],155:[function(a,b,c){var d=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("freeze",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{"./_is-object":108,"./_meta":116,"./_object-sap":129}],156:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopd").f;a("./_object-sap")("getOwnPropertyDescriptor",function(){return function(a,b){return e(d(a),b)}})},{"./_object-gopd":121,"./_object-sap":129,"./_to-iobject":141}],157:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-gpo");a("./_object-sap")("getPrototypeOf",function(){return function(a){return e(d(a))}})},{"./_object-gpo":125,"./_object-sap":129,"./_to-object":143}],158:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return e(d(a))}})},{"./_object-keys":127,"./_object-sap":129,"./_to-object":143
}],159:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{setPrototypeOf:a("./_set-proto").set})},{"./_export":97,"./_set-proto":133}],160:[function(a,b,c){},{}],161:[function(a,b,c){var d=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./_iter-define":111,"./_string-at":138}],162:[function(a,b,c){var d=a("./_global"),e=a("./_has"),f=a("./_descriptors"),g=a("./_export"),h=a("./_redefine"),i=a("./_meta").KEY,j=a("./_fails"),k=a("./_shared"),l=a("./_set-to-string-tag"),m=a("./_uid"),n=a("./_wks"),o=a("./_wks-ext"),p=a("./_wks-define"),q=a("./_keyof"),r=a("./_enum-keys"),s=a("./_is-array"),t=a("./_an-object"),u=a("./_to-iobject"),v=a("./_to-primitive"),w=a("./_property-desc"),x=a("./_object-create"),y=a("./_object-gopn-ext"),z=a("./_object-gopd"),A=a("./_object-dp"),B=a("./_object-keys"),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(a,b,c){return a===P&&W(O,b,c),t(a),b=v(b,!0),t(c),e(N,b)?(c.enumerable?(e(a,J)&&a[J][b]&&(a[J][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,J)||D(a,J,w(1,{})),a[J][b]=!0),T(a,b,c)):D(a,b,c)},X=function(a,b){t(a);for(var c,d=r(b=u(b)),e=0,f=d.length;f>e;)W(a,c=d[e++],b[c]);return a},Y=function(a,b){return void 0===b?x(a):X(x(a),b)},Z=function(a){var b=L.call(this,a=v(a,!0));return!(this===P&&e(N,a)&&!e(O,a))&&(!(b||!e(this,a)||!e(N,a)||e(this,J)&&this[J][a])||b)},$=function(a,b){if(a=u(a),b=v(b,!0),a!==P||!e(N,b)||e(O,b)){var c=C(a,b);return!c||!e(N,b)||e(a,J)&&a[J][b]||(c.enumerable=!0),c}},_=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(N,b=c[f++])||b==J||b==i||d.push(b);return d},aa=function(a){for(var b,c=a===P,d=E(c?O:u(a)),f=[],g=0;d.length>g;)!e(N,b=d[g++])||c&&!e(P,b)||f.push(N[b]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===P&&b.call(O,c),e(this,J)&&e(this[J],a)&&(this[J][a]=!1),T(this,a,w(1,c))};return f&&S&&T(P,a,{configurable:!0,set:b}),U(a)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,a("./_object-gopn").f=y.f=_,a("./_object-pie").f=Z,a("./_object-gops").f=aa,f&&!a("./_library")&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);for(var ba=B(n.store),ca=0;ba.length>ca;)p(ba[ca++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(V(a))return q(M,a);throw TypeError(a+" is not a symbol!")},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!V(a)){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);return b=d[1],"function"==typeof b&&(c=b),!c&&s(b)||(b=function(a,b){if(c&&(b=c.call(this,a,b)),!V(b))return b}),d[1]=b,H.apply(G,d)}}}),F[I][K]||a("./_hide")(F[I],K,F[I].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{"./_an-object":78,"./_descriptors":93,"./_enum-keys":96,"./_export":97,"./_fails":98,"./_global":100,"./_has":101,"./_hide":102,"./_is-array":107,"./_keyof":114,"./_library":115,"./_meta":116,"./_object-create":118,"./_object-dp":119,"./_object-gopd":121,"./_object-gopn":123,"./_object-gopn-ext":122,"./_object-gops":124,"./_object-keys":127,"./_object-pie":128,"./_property-desc":130,"./_redefine":132,"./_set-to-string-tag":135,"./_shared":137,"./_to-iobject":141,"./_to-primitive":144,"./_uid":145,"./_wks":148,"./_wks-define":146,"./_wks-ext":147}],163:[function(a,b,c){var d,e=a("./_array-methods")(0),f=a("./_redefine"),g=a("./_meta"),h=a("./_object-assign"),i=a("./_collection-weak"),j=a("./_is-object"),k=g.getWeak,l=Object.isExtensible,m=i.ufstore,n={},o=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},p={get:function(a){if(j(a)){var b=k(a);return b===!0?m(this).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(this,a,b)}},q=b.exports=a("./_collection")("WeakMap",o,p,i,!0,!0);7!=(new q).set((Object.freeze||Object)(n),7).get(n)&&(d=i.getConstructor(o),h(d.prototype,p),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=q.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!l(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},{"./_array-methods":81,"./_collection":89,"./_collection-weak":88,"./_is-object":108,"./_meta":116,"./_object-assign":117,"./_redefine":132}],164:[function(a,b,c){var d=a("./_export");d(d.P+d.R,"Map",{toJSON:a("./_collection-to-json")("Map")})},{"./_collection-to-json":87,"./_export":97}],165:[function(a,b,c){a("./_wks-define")("asyncIterator")},{"./_wks-define":146}],166:[function(a,b,c){a("./_wks-define")("observable")},{"./_wks-define":146}],167:[function(a,b,c){a("./es6.array.iterator");for(var d=a("./_global"),e=a("./_hide"),f=a("./_iterators"),g=a("./_wks")("toStringTag"),h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var j=h[i],k=d[j],l=k&&k.prototype;l&&!l[g]&&e(l,g,j),f[j]=f.Array}},{"./_global":100,"./_hide":102,"./_iterators":113,"./_wks":148,"./es6.array.iterator":151}],168:[function(a,b,c){arguments[4][160][0].apply(c,arguments)},{dup:160}],169:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}]},{},[10])(10)}),angular.module("rscwbApp").service("api",["$http",function(a){return{getLocalize:function(b){return a({method:"GET",url:"lang/"+b+".json"}).then(function(a){return a})}}}]),angular.module("rscwbApp").controller("InstitutionHomeCtrl",["$scope","joinTables",function(a,b){a.checkUser(),a.bloodInternal=[],a.bloodNational=[],b.join(a.currentUser.id).then(function(b){for(var c=[],d=0,e=0;e<b.blood.length;e++){var f=b.blood[e];c.push(f.get("value")),parseInt(f.get("value"))>d&&(d=parseInt(f.get("value"))),a.bloodInternal[e]={value:f.get("value"),type:f.get("bloodType").slice(0,-1),super:f.get("bloodType").slice(-1)}}for(var e in c)a.bloodInternal[e].height=c[e]/d*115},function(a){console.log(a)})}]),angular.module("rscwbApp").controller("SuperadminHomeCtrl",["$scope",function(a){a.checkUser();var b=function(){var b=Parse.Object.extend("User"),c=Parse.Object.extend("InstitutionData"),d=new Parse.Query(c),e=new Parse.Query(b);e.equalTo("type","admin"),e.find({success:function(b){a.institutions=[];for(var c=0;c<b.length;c++)d.equalTo("userObjectId",b[c].id),d.equalTo("isActive",!0),d.find({success:function(b){b&&b[0]&&(a.institutions.push(b[0]),a.$apply())},error:function(a,b){console.log(b)}});a.$apply()},error:function(a){console.log(a)}})};b(),a.removeInstitution=function(){var a=Parse.Object.extend("InstitutionData"),c=new Parse.Query(a);c.get(this.institution.id,{success:function(a){a.save({isActive:!1},{success:function(){console.log("data updated"),b()},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},a.updateInstitution=function(){a.changeView("superadmin/edit/"+this.institution.get("userObjectId"))},a.addNewInstitution=function(){a.changeView("superadmin/edit")}}]),angular.module("rscwbApp").controller("InstitutionInfoCtrl",["$scope","joinTables",function(a,b){a.checkUser(),a.blood=[],a.institution={};var c=[],d=0;b.join(a.currentUser.id).then(function(b){c=[],d=0,a.institution={name:b.institution.get("name"),location:b.institution.get("city"),description:b.institution.get("description")};for(var e=0;e<b.blood.length;e++){var f=b.blood[e];c.push(f.get("value")),parseInt(f.get("value"))>d&&(d=parseInt(f.get("value"))),a.blood[e]={value:parseInt(f.get("value")),newvalue:parseInt(f.get("value"))/2,type:f.get("bloodType").slice(0,-1),super:f.get("bloodType").slice(-1)}}for(var e in c)a.blood[e].height=c[e]/d*115},function(a){console.log(a)}),a.onBloodChange=function(b){b.newvalue<0&&(b.newvalue=0,b.height=0),d=0,c=[];for(var e in a.blood)a.blood[e].value=2*a.blood[e].newvalue,c.push(a.blood[e].value),a.blood[e].value>d&&(d=a.blood[e].value);for(var e in c)a.blood[e].height=c[e]/d*115},a.updateBloodValues=function(){b.join(a.currentUser.id).then(function(b){for(var c=0;c<b.blood.length;c++)a.blood[c].value=2*a.blood[c].newvalue,b.blood[c].save({value:a.blood[c].value+""},{success:function(a){console.log("updated blood values",a)},error:function(a,b){console.log(b)}})})},a.updateInstitution=function(){b.join(a.currentUser.id).then(function(b){b.institution.save({name:a.institution.name,city:a.institution.location,description:a.institution.description},{success:function(a){console.log("updated institute values",a)},error:function(a,b){console.log(b)}})})}}]),angular.module("rscwbApp").service("joinTables",["$q",function(a){var b=function(b){var c=Parse.Object.extend("User"),d=Parse.Object.extend("InstitutionData"),e=Parse.Object.extend("InstitutionBlood"),f=Parse.Object.extend("UserData"),g=new Parse.Query(c),h=new Parse.Query(d),i=new Parse.Query(e),j=new Parse.Query(f),k={},l=a.defer();return g.get(b,{success:function(a){k.user=a,h.equalTo("userObjectId",b),h.find({success:function(a){k.institution=a[0],i.equalTo("userObjectId",b),i.find({success:function(a){k.blood=a,j.equalTo("userObjectId",b),j.find({success:function(a){k.userData=a,l.resolve(k)},error:function(a){console.log(a),l.reject(a)}})},error:function(a,b){console.log(b),l.reject(b)}})},error:function(a,b){console.log(b),l.reject(b)}})},error:function(a,b){console.log(b),l.reject(b)}}),l.promise};return{join:b}}]),angular.module("rscwbApp").controller("SuperadminEditCtrl",["$scope","$routeParams","joinTables",function(a,b,c){a.checkUser(),a.institutionID=b.id,a.institution={},a.institutionID&&c.join(a.institutionID).then(function(b){a.institution.name=b.institution.get("name"),a.institution.city=b.institution.get("city")},function(a){console.log(a)}),a.updateInfo=function(){c.join(a.institutionID).then(function(b){b.institution.save({name:a.institution.name,city:a.institution.city},{success:function(b){console.log("institution updated"),a.changeView("superadmin/home"),a.$apply()},error:function(a,b){console.log(b)}})},function(a){console.log(a)})},a.createInstitution=function(){var b=new Parse.User,c=["0-","0+","A-","A+","B-","B+","AB-","AB+"];b.signUp({username:a.institution.username,password:a.institution.password,email:a.institution.email,type:"admin"},{success:function(b){var d=Parse.Object.extend("InstitutionData"),e=new d;e.save({userObjectId:b.id,name:a.institution.name,city:a.institution.city,isActive:!0},{success:function(a){console.log("institution data added",a);for(var d in c){var e=Parse.Object.extend("InstitutionBlood"),f=new e;f.save({bloodType:c[d],userObjectId:b.id,value:"0"},{success:function(a){console.log("added blood type "+c[d])},error:function(a,b){console.log(b)}})}},error:function(a,b){console.log("error",b)}})},error:function(a,b){console.log("error",a)}})}}]),angular.module("rscwbApp").controller("InstitutionPushNotificationCtrl",["$scope",function(a){a.checkUser(),a.error={hasError:!1,msg:a.lang.notificationSent},a.notificationInfo={};var b=$("#bloodtypes").select2();a.pushNotification=function(){console.log(b.val()),$onesignal.post("notifications",{app_id:"fe297931-fa76-4688-968d-cd6443131ef1",contents:{en:"Hi!"},included_segments:["All"]},function(a){console.log(a)});var c=Parse.Object.extend("Events"),d=new c;d.save({name:a.notificationInfo.name,time:a.notificationInfo.time,location:a.notificationInfo.location},{success:function(b){console.log("new event created"),a.notificationInfo.name="",a.notificationInfo.time="",a.notificationInfo.location="",a.error.hasError=!0,a.$apply(),setTimeout(function(){a.error.hasError=!1,a.$apply()},2e3)},error:function(a,b){console.log(b)}})}}]),angular.module("rscwbApp").controller("InstitutionBrowseDonorsCtrl",["$scope","joinTables",function(a,b){a.checkUser();var c=function(){var c=Parse.Object.extend("User"),d=new Parse.Query(c);d.equalTo("type","donor"),a.donors=[],d.find({success:function(c){for(var d=0;d<c.length;d++)b.join(c[d].id).then(function(b){if(b.userData){var c=Parse.Object.extend("UserDonation"),d=new Parse.Query(c);d.equalTo("userObjectId",b.userData[0].get("userObjectId")),d.find({success:function(c){var d=0;c.length>14?d=15:c.length>9?d=10:c.length>4?d=5:c.length>0&&(d=1),console.log(d),a.donors.push({userData:b.userData[0],numberOfDonations:c.length,achievement:d}),a.$apply()},error:function(a,b){console.log(b)}})}})},error:function(a,b){console.log(a)}})};c(),a.onAddDonationClick=function(b){var d=a.currentUser.id,e=Parse.Object.extend("UserDonation"),f=new e,g=Parse.Object.extend("UserData"),h=new Parse.Query(g),i="",j=Parse.Object.extend("InstitutionBlood"),k=new Parse.Query(j);h.equalTo("userObjectId",b),h.find({success:function(e){i=e[0].get("bloodType"),k.equalTo("userObjectId",d),k.equalTo("bloodType",i),k.find({success:function(e){e[0].save({value:parseInt(e[0].get("value"))+1+""},{success:function(e){console.log("blood added"),f.save({userObjectId:b,institutionObjectId:d,dateOfDonation:a.donationDate},{success:function(b){console.log("donation added"),c(),a.$apply()},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})},error:function(a,b){console.log(b)}})}}]);